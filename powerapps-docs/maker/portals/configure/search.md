---
title: Power Apps ポータルのグローバル検索 | MicrosoftDocs
description: ポータルでグローバル検索がどのように機能するかを説明します。
author: sandhangitmsft
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 04/23/2020
ms.author: sandhan
ms.reviewer: tapanm
ms.openlocfilehash: cf906e36ecd967527d3ee6a90add7456c98492de
ms.sourcegitcommit: c12260f372ad2cc48d3146be570d2088c9ef1d86
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/20/2020
ms.locfileid: "3493977"
---
# <a name="search"></a>Search

Power Apps ポータルでは、ポータルのグローバル検索機能を使用して複数のエンティティにまたがりレコードを検索できます。 エンティティ リストの検索機能を使用して、エンティティ リストのレコード内を検索することもできます。 

ポータルのエンティティ リストの検索機能はバックエンドで FetchXML を使用してエンティティ リストで定義されている列を検索してから、結果を表示します。 

グローバル検索は、Lucene.Net に基づく外部検索インデックスを使用し、一度に複数のエンティティとフィールド内で検索するために使用されます。

## <a name="global-search"></a>グローバル検索

ポータルのグローバル検索を使用すると、複数のエンティティにまたがるレコードを検索できます。 また、複数の列をまたいで検索し、エンティティのどの列が検索可能かを構成することもできます。

グローバル検索のメリットの中には次の能力があります:
- エンティティのすべてのフィールドの検索する語句との一致を検索します。 一致には、stream、streaming、streamed などの派生形を含めることができます。
- 次のような要因に基づいて、関連性で並べ替えられた単一のリスト内のすべての検索可能なエンティティから結果を返します:
    - 一致した単語数。
    - テキストでの相互の近接性。
- 検索結果で一致するものが強調表示されます。
- 検索結果のさらなるフィルター処理に使用できるファセット オプションを提供します。

グローバル検索では、より一致している組み合わせは、結果の表示位置が上がります。 検索する語句のより多くの単語が互いに近接している場合、一致の関連性はより高くなります。 検索語を検索する対象のテキストの量が小さくなるほど、関連性は高くなります。 たとえば、会社名や住所に検索語が見つかった場合、大きな記事内で見つかる、互いに離れている同じ単語よりもさらに良く一致する場合があります。 結果が単一のリストで返されるため、レコードが組み合わされて次から次へと表示される場合があり、一致した成果が強調表示されます。 

次のセクションでは、Power Apps ポータルでグローバル検索がどのように機能するかを詳述し、使用できる各種構成オプションを説明します。

## <a name="entities-searchable-in-portal-global-search"></a>ポータル グローバル検索で検索可能なエンティティ

既定では、次のエンティティは、適切なソリューション パッケージがインストールされ、検索がポータルに追加されている場合にポータル Web サイト内で検索可能なものです。 インデックス化された列は、カスタマイズ可能な検索ビューにある列から構成されています。  リストの各エンティティには、ここで一覧表示されているようにインデックス化された属性の既定のセットがあります。
- サポート情報記事
    - サポート情報記事のメモと添付ファイルも同様に検索可能です。 詳細: [添付ファイルのコンテンツ内の検索](search-file-attachment.md)
    - 公開済みである記事のみが検索可能で、内部のフィールドのみが false に設定されます。
- ブログ 
- ブログの投稿 
- コメントをブログ投稿する 
- フォーラム 
- フォーラムの投稿 
- フォーラムのスレッド 
- アイデア 
- アイデアのコメント 
- アイデア フォーラム 
- Web ファイル 
    - Web ファイルの添付ファイルの内容も検索可能です。 詳細: [添付ファイルのコンテンツ内の検索](search-file-attachment.md)
- Web ページ 
- インシデント 

> [!NOTE]
> 検索用の追加エンティティを構成できます。 詳細については、[検索用の追加エンティティの構成](search-additional-entities.md) をお読みください。

## <a name="fields-searchable-in-global-search"></a>グローバル検索で検索可能なフィールド

あらゆるエンティティの Search/IndexQueryName サイトの設定で定義されたビューで使用できるすべてのフィールドがグローバル検索でインデックス化され、検索可能です。 

Search/IndexQueryName の既定値は "ポータル検索" です。

ビューがいずれかのエンティティに対して使用できない場合、それはインデックス化されておらず、その結果はグローバル検索では表示されません。

> [!NOTE]
> Search/IndexQueryName サイトの設定の値を変更する場合、[フル検索インデックスの再作成](#rebuild-full-search-index) セクションで定義されているステップを使用してビルドの手動での再インデックスを開始する必要があります。

## <a name="related-site-settings"></a>関連するサイト設定

次のサイト設定はグローバル検索に関連しています:

| Name    | 既定値     | 説明       |
|-----------------------|--------------------|-------------|
| 検索/有効 | はい  | 検索が有効かどうかを示すブール値。 その値を false に設定すると、ポータルのグローバル検索はオフになります。<br>追加設定なしの Web テンプレートを使用しており、この設定をオフにしている場合、検索ボックスはヘッダーのほか、検索ページにも表示されません。 さらに、検索ページの直接の URL がヒットした場合であっても、検索結果は返されません。  |
| Search/EnableAdditionalEntities  | 無効  | この値を true に設定すると、ポータルの追加エンティティを検索できるようになります。 <br> 使用する場合は、*検索/有効*を *True* に設定する必要があります。  |
| 検索/フィルター  | Content:adx_webpage;Events:adx_event,adx_eventschedule;Blogs:adx_blog,adx_blogpost,adx_blogpostcomment;Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Ideas:adx_ideaforum,adx_idea,adx_ideacomment;Issues:adx_issueforum,adx_issue,adx_issuecomment;Help Desk:incident | 検索論理名フィルター オプションのコレクション。 ここで値を定義すると、グローバル検索にドロップダウン フィルター オプションを追加します。 この値は、コロンと区切られた名前と値を含む、名前/値のペア、およびセミコロンで区切られたペアの形式であるべきです。 例: 「Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Blogs:adx_blog,adx_blogpost,adx_blogpostcomment」。  |
| Search/IndexQueryName   | ポータル検索  | インデックス付けされて検索される有効なエンティティのフィールドを定義するポータル検索クエリで使用されるシステム ビューの名前。   |
| 検索/クエリ  | +(@Query) _title:(@Query) _logicalname:adx_webpage\~0.9^0.2 -_logicalname:adx_webfile\~0.9 adx_partialurl:(@Query) _logicalname:adx_blogpost\~0.9^0.1 -_logicalname:adx_communityforumthread\~0.9   | この設定では、ポータルに表示される既定の検索ボックスにユーザーが入力するクエリに、追加の重みとフィルターを追加します。 既定値では、@Query がユーザーによって入力されるクエリ テキストです。<br>この値を変更する方法については、[Lucene クエリ構文の参照](https://lucene.apache.org/core/old_versioned_docs/versions/2_9_1/queryparsersyntax.html) に従ってください。<br>**重要**: この重み付けおよびフィルター処理は、ポータルの既定の検索ページに予定されている検索にのみ適用されます。 独自の検索ページを作成するために流動検索タグを使用している場合には、この設定が適用されません。 |
| 取得/ステミング機能  | 英語    | ポータル検索のステミング アルゴリズムが使用する言語。   |
| Search/FacetedView  | 正   | これによって検索結果でファセットが有効です。 True に設定する場合、ファセットは検索ページの結果とともに表示されます。  |
| Search/IndexNotesAttachments   | 正    | サポート情報記事および Web ファイルのメモ添付ファイルの内容をインデックス付きにする必要があるかどうかを示します。 既定では、False に設定されています。 詳細: [添付ファイルのコンテンツ内の検索](search-file-attachment.md)    |
| Search/RecordTypeFacetsEntities  | Blogs:adx_blog,adx_blogpost;Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Ideas:adx_ideaforum,adx_idea;Downloads:annotation,adx_webfile    | これによって、検索ページのレコードの種類ファセットでエンティティがグループ化される方法が決定されます。 この設定は次の形式です <br>"DisplayNameinRecordTypeFacet1:logicalnameofentity1,logicalnameofentity2; DisplayNameinRecordTypeFacet2:logicalnameofentity3,logicalnameofentity4" <br>レコードの種類ファセットの表示名が UI に表示されます。 このファセット グループが構成で定義されたエンティティの結果を結合します。   |
| KnowledgeManagement/DisplayNotes | 正   | サポート情報記事の添付ファイルにインデックスを作成するかどうかを示します。 既定では、False に設定されています。 |
|||

## <a name="related-content-snippets"></a>関連コンテンツ スニペット

次のコンテンツ スニペットはグローバル検索に関連しています:

| Name   | 既定値  | 説明   |
|------------------|-----------------|--------------------|
| ヘッダー/検索/ラベル| Search| このコンテンツ スニペットで、ポータル ヘッダーの検索ボックスに表示されるウォーターマーク テキストが決定されます。<br>![検索ラベル](../media/search-label.png "検索ラベル")    |
| ヘッダー/検索/ツールヒント| Search  | このコンテンツ スニペットによって、ポータル ヘッダーの検索アイコン上にマウスを置くと表示されるツールヒント テキストが決まります。<br>![検索ヒント](../media/search-tooltip.png "検索ヒント")  |
| 検索/既定/フィルターテキスト| すべて   | このコンテンツ スニペットによって、検索ボックスの隣にあるフィルターのドロップダウン リストに表示される既定のテキストが決まります。<br>![検索フィルターのテキスト](../media/search-filter-text.png "検索フィルターのテキスト")  |
| 検索/ファセット/すべて| すべて| このコンテンツ スニペットによって、検索結果ページの "レコードの種類" ファセットの "すべてのレコード ファセット" で表示される既定のテキストが決まります。<br>![すべてのファセット](../media/facet-all.png "すべてのファセット") |
| 検索/ファセット/制約のクリア   | すべてクリア  | このコンテンツ スニペットによって、検索結果ページに適用されているすべてのファセットをリセットするボタンのラベルが決まります。<br>![すべてのファセットをリセット](../media/facet-clear-all.png "すべてのファセットをリセット") |
| 検索/ファセット/ダウンロード   | ダウンロード   | このコンテンツ スニペットによって、コメントの添付ファイルの検索結果および "レコードの種類" ファセットの Web ファイル レコードに表示されるラベルが決まります。<br>![ファセットのダウンロード](../media/facet-download.png "ファセットのダウンロード")|
| 検索/ファセット/縮小    | 簡易表示  | このコンテンツ スニペットによって、ファセットの結果を折り畳むボタンのラベルが決まります。<br>![より少ないファセットを表示](../media/facet-show-less.png "より少ないファセットを表示") |
| 検索/ファセット/修正日  | 修正日  | このコンテンツ スニペットによって、修正日のファセットに示されているヘッダーのラベルが決まります。<br>![修正日](../media/facet-modified-date.png "修正日")   |
| 検索/ファセット/詳細   | 詳細表示  | このコンテンツ スニペットによって、ファセットの結果を展開するボタンのラベルが決まります。<br>![詳細なファセットを表示](../media/facet-show-more.png "詳細なファセットを表示")  |
| 検索/ファセット/製品  | 製品 | このコンテンツ スニペットによって、製品ファセットのラベルが決まります。<br>![製品ファセット](../media/facet-product.png "製品ファセット")  |
| 検索/ファセット/評価   | 評価   | このコンテンツ スニペットによって、評価ファセットのラベルが決まります。<br>![評価ファセット](../media/facet-rating.png "評価ファセット")  |
| 検索/ファセット/レコードの種類   | レコードの種類 | このコンテンツ スニペットによって、レコードの種類ファセットのラベルが決まります。<br>![レコードの種類のファセット](../media/facet-record-type.png "レコードの種類のファセット")     |
| 検索/ファセット/並べ替え順/平均ユーザー評価 | 平均ユーザー評価 | このコンテンツ スニペットによって、検索結果ページの並べ替えドロップダウン リストの "平均ユーザー評価による並べ替え" オプションに表示されるラベルが決まります。<br>![平均ユーザー評価による並べ替え](../media/sort-avg-user-rating.png "平均ユーザー評価による並べ替え")  |
| 検索/ファセット/並べ替え順/関連性| 関連性| このコンテンツ スニペットによって、検索結果ページの並べ替えドロップダウン リストの "関連性による並べ替え" オプションに表示されるラベルが決まります。<br>![関連性による並べ替え](../media/sort-relevance.png "関連性による並べ替え")|
| 検索/ファセット/並べ替え順/ビュー| 表示回数| このコンテンツ スニペットによって、検索結果ページの並べ替えドロップダウン リストの "表示回数による並べ替え" オプションに表示されるラベルが決まります。<br>![表示回数による並べ替え](../media/sort-view-count.png "表示回数による並べ替え")|
|||

## <a name="entity-specific-handling"></a>エンティティ固有の処理

- **サポート案件**: 既定では、**解決済み**状態であるサポート案件のみが検索可能で、**Web に公開**フィールドは**True**に設定されています。 この動作は、サポート案件エンティティのポータル検索ビューを更新して、ポータル検索ビューで使用可能なフィルターを削除することで変更できます。 ただし、このチェックを削除する場合、この Web テンプレートが、アクティブであり、Web に公開されていないサポート案件の表示からすべてのユーザーを制限するので、顧客サービス – サポート案件 Web テンプレートが適切に変更されていることを確認することは重要です。 Web テンプレートが変更されていない場合、サポート案件は検索結果に表示されます。 ただし、選択時に、サポート案件の詳細 Web ページはアクセス許可が拒否されたエラーとともに表示されます。

- **サポート情報**: **公開済み**状態で**内部**フィールドが **いいえ**に設定されている場合のみ、サポート情報記事が検索可能です。 この動作は変更できません。 サポート情報記事には、次のように検索結果で使用できる特殊な機能もあります:

    - **ファセット**: サポート情報記事でのみ使用できる 2 つの特殊ファセットがあり、サポート情報記事レコードが検索結果で使用できる場合に表示されます。

        - **評価ファセット**: このファセットでは、サポート情報記事の平均評価に基づいて検索結果をフィルター処理することができます。

        - **製品ファセット**: このファセットでは、サポート情報記事に関連付けられた製品に基づいて検索結果をフィルター処理することができます。

    - **添付ファイルの検索**: この機能によって、サポート情報記事に関連付けられた添付ファイルやメモ内を検索することができます。 これによって、メモの説明、タイトル、添付ファイルのファイル名、およびとポータルで公開されているメモまたは添付ファイルの添付内容は内部で検索することが可能になります。 詳細: [添付ファイルのコンテンツ内の検索](search-file-attachment.md)

## <a name="special-characters-and-syntax-supported-by-search"></a>検索がサポートする特殊文字および構文

ポータル グローバル検索の一部としては、検索結果をより良くフィルター処理するために、さまざまな特殊文字および構文がサポートされています。 これらの特殊文字および構文は、おおざっぱに次のグループに分割されます:

- **用語**: 検索のためにユーザーが入力する各クエリは用語と演算子に解析されます。 以下は、用語の種類です: 

    - **単一用語**: 単一用語は単一の単語です。 たとえば、クエリ {hello world} は、2 つの単一用語、"hello" と "world" へと解析されます。 各単一用語は個別に検索されます。 したがって、クエリ {hello world} では、"hello" や "world" を持つすべてのレコードが検索結果に表示されます。

    - **語句**: 語句は二重引用符 ("") で囲まれている用語のグループです。 たとえば、クエリ {"hello world"} は、語句 "hello world" として解析されます。 各語句は完全に検索されます。 したがって、クエリ {"hello world"} では、完全な語句としての "hello world" を持つすべてのレコードが検索結果に表示され、"hello" や "world" のみを持つレコードは一切表示されません。

    各検索クエリは、複雑なクエリを作成するために、ブール演算子を使用して組み合わされた任意の種類のこれらの用語の一つまたは多くで構成できます。

- **用語修飾子**

    - **ワイルドカード検索**: 検索クエリの単一用語内で使用可能なワイルドカードには次の 2 つの種類があります (語句クエリ内ではありません) : 単一文字のワイルドカード検索と複数文字のワイルドカード検索。

        - **単一文字のワイルドカード検索**: 単一文字のワイルドカード検索するには、疑問符 (?) 記号を使用します。 単一文字のワイルドカード検索では、置き換えられた単一文字に一致する用語を検索します。 たとえば、"text" または "test" を検索する場合、検索クエリを "te?t" として使用できます。

        - **複数文字のワイルドカード検索**: 複数文字のワイルドカード検索するには、アスタリスク (\*) 記号を使用します。 複数文字のワイルドカード検索では、ゼロ以上の文字を検索します。 たとえば、test、tests または tester を検索するためには、検索クエリを "test *" として使用できます。また、クエリの真ん中でも複数文字のワイルドカード検索を使用できます。たとえば、"te*t" です。

        > [!NOTE]
        > - * または ? 記号は検索の最初の文字として使用できません。
        > - ワイルドカード検索は語句クエリでは使用できません。 たとえば、クエリを "hell* world" として使用すると、"hello world" テキストのある結果は表示されません。

    - **近接性検索**: 近接性検索では、互いに特定の距離内であるでワードを検索できます。 たとえば、相互に 10 ワード内に表示される "Picture" と "blurry" という単語の結果を検索するには、それらの検索に近接性検索を使用できます。
    
        近接性検索を行うには、クエリの最後部分にティルダ (~) 記号を使用します。 たとえば、相互に 10 ワード内に表示される "Picture" と "blurry" という単語の結果を検索するには、クエリは "Picture blurry"~10 になります。

    - **用語の増強**: グローバル検索では、検索された用語に基づき対応するドキュメントの関連性レベルを提供します。 用語を増強するには、検索している用語の末尾に増強係数 (数字) を含むキャレット (^) 記号を使用します。 増強係数が多ければ多いほど、用語の関連性も多くなります。

        増強によって、用語の増強によるドキュメントの関連性を管理することができます。 たとえば、Smart TV を検索しており、Smart という用語をより関連させる場合、用語の横に増強係数とともに ^ 記号を使用してクエリを増強します。 次のように入力します: Smart^4 TV。 これによって、Smart という用語のあるドキュメントをより関連付けることができるようになります。

        さらに、次の例のように語句用語もを増強できます: Smart TV^4 New TV。 この場合は "Smart TV" という語句は "New TV" との比較で増強されます。

        既定では、増強係数は 1 です。 増強係数は正である必要がありますが、1 未満にすることもできます (たとえば、0.2)。

- **ブール演算子**: ブール演算子では用語をロジック演算子を介して組み合わせることができます。 グローバル検索ではブール演算子として、OR、AND、NOT、「+」、および「-」をサポートしています。

    > [!NOTE]
    > ブール演算子は大文字で書かれなければなりません。

    - **OR**: OR 演算子は既定の結合演算子です。 これは、2 つの用語間にブール演算子がない場合には、OR 演算子が使用されることを意味しています。 OR 演算子は 2 つの用語をリンクし、レコードに用語のいずれかが存在している場合には、一致するレコードを検索します。 これは、セットを使用する和と同じです。 記号 || はワード OR の代わりに使用できます。 たとえば、検索クエリ "Smart TV" (ダブルクォーテーションを除く) はその中にワード Smart または TV があるすべてのレコードを検索します。 このクエリはさらに、"Smart OR TV"、"Smart || TV" として書くこともできます。

    - **AND:** AND 演算子は単一ドキュメントのテキストの任意の場所に両方の用語が存在するレコードと一致します。 これは、セットを使用する交差と同じです。 記号 && はワード AND の代わりに使用できます。 たとえば、検索クエリ "Smart AND TV" (ダブルクォーテーションを除く) はその中にワード Smart と TV があるすべてのレコードを検索します。 このクエリはさらに "Smart && TV" として書くこともできます。

    - **NOT**:NOT 演算子は、NOT の後の用語を含むレコードを除外します。 これは、セットを使用する差分と同じです。 記号 ! はワード NOT の代わりに使用できます。 たとえば、検索クエリ "Smart NOT TV" (クォーテーション マークを除く) はその中にワード Smart はあるが、ワード TV がないすべてのレコードを検索します。 このクエリはさらに "Smart ! TV" として書くこともできます。

    - **プラス (+) 記号**: プラス (+) 記号は、必須演算子としても知られており、「+」記号の後の用語がレコードのどこかに存在する必要があります。 たとえば、検索クエリ "Smart + TV" は、ワード TV が存在する必要があり、そしてワード Smart も同様に存在する可能性のあるすべてのレコードを検索します。 

    - **マイナス (–) 記号**: マイナス (-) 記号は、 禁止演算子としても知られており、「-」記号の後の用語が含まれているドキュメントを除外します。 たとえば、検索クエリ "Smart - TV" は、ワード Smart が存在し、そしてワード TV は存在しない必要のあるすべてのレコードを検索します。

- **グループ化**: ポータル グローバル検索では、サブ クエリを形成するために、かっこを使用した句のグループ化をサポートしています。 これはクエリのブール論理を管理する場合に便利な場合があります。 たとえば、用語 "HD" または "Smart" のいずれか 1 つが存在するがワード TV は常に存在するすべてのレコードを検索する場合には、クエリは、"(HD or Smart) AND TV" (クォーテーション マークを除く) と書くことができます。

## <a name="liquid-search-tag"></a>流動検索タグ

*検索インデックス* タグを使用すると流動テンプレートからポータル グローバル検索を呼び出すことができます。 詳細:  [検索インデックス](../liquid/portals-entity-tags.md#searchindex)

> [!IMPORTANT]
> 検索インデックス タグを使用すると、ファセットは結果の一部として返されませんし、フィルターとして適用されない場合もあります。

## <a name="update-search-index"></a>検索インデックスの更新

Power Apps ポータルの検索インデックスの更新は、キャッシュ無効化と同様に自動的に行われます。 留意すべき重要な事柄、しかし:

- エンティティが有効なすべての検索は変更の通知メタデータのフラグを有効にしておく必要があり、そうしないと、ポータルには変更が通知されず、検索インデックスは更新されません。

- あらゆる変更は、ポータル検索に反映するのに 30 分かかる場合があります。 ただし、変更の 95 パーセントは 15 分以内に更新されます。 添付ファイルが含まれる場合は、添付ファイルのサイズに応じてより時間がかかることがあります。

- 短い期間にデータの一括移行またはレコードに対して一括更新を実行した後には、手動でフル インデックスを再作成することをお勧めします。 詳細については、[フル検索インデックスの再作成](#rebuild-full-search-index)参照してください。

## <a name="rebuild-full-search-index"></a>フル検索インデックスの再作成

フル検索インデックスの再作成は次の場合にいつでも必要です:

- 特定のクエリ固有のサイト設定の変更またはエンティティの検索ビューの変更など、検索プロパティへのメタデータの変更を加えます。
- 一括データの移行または更新が実行されます。
- ポータルに関連した Web サイト レコードは、Common Data Service 環境で変更されます。

さらに、ポータルからフル検索インデックスを再作成することもできます。
1.    ポータルに管理者としてサインインします。
2.    次のような URL に移動します: `<portal_path>/_services/about`
3.    **検索インデックスの再作成**を選択します。

> [!IMPORTANT]
> フル インデックスの再作成はとても負担の大きな操作なので、使用のピーク時間に行うべきではありません。その理由はこれによってポータルがダウンする場合があるからです。

## <a name="remove-an-entity-from-global-search"></a>グローバル検索からのエンティティの削除

時々、顧客が適切な結果をすばやく取得することを確保するため、ポータル グローバル検索から特定のエンティティを完全に削除するように要求される場合があります。

次の例では、ポータル グローバル検索からサポート案件エンティティを削除します。

### <a name="step-1-block-case-entity-from-getting-indexed"></a>ステップ 1: インデックスを作成することからサポート案件エンティティをブロックする

インデックスを作成することからサポート案件エンティティをブロックするには、ポータルでインデックスを作成するように設定されたレコードを定義するサポート案件エンティティのビューの名前を変更する必要があります (Search/IndexQueryName サイト設定で定義)。 既定では、そのビューの名前は、ポータル検索です。

1.    https://make.powerapps.com に移動し、ソリューション を選択します。 

    ![ソリューション](../media/solutions-page.png)

1. **既定のソリューション**を検索し、[編集] を選択して開きます。

    ![ソリューションを編集](../media/edit-solution.png)

1. **サポート案件** エンティティを検索および編集し、そのコンポーネントを表示します。 

1. **ビュー** タブを選択し、**ポータル検索** を選択してビュー エディターで開きます。

1. ビュー エディターで、要件に応じてビューの名前を変更します。 新しい名前にはその中に*ポータル検索*という用語はないことを確認します。 

1. 変更を保存して発行し、ビュー エディターを閉じます。

1. [フル検索インデックスの再作成](#rebuild-full-search-index) セクションで説明されているようにフル インデックスを再作成します。

> [!NOTE]
> この例では、ビューを直接編集して、アンマネージド層に変更を加えています。 これはアンマネージド ソリューションを介しても行うことができます。

### <a name="step-2-remove-case-entity-from-the-ui"></a>ステップ 2: UI からサポート案件エンティティを削除します。

ステップ 1 で説明したアクションを実行した後、サポート案件エンティティはインデックス作成を停止します。 UI 表面領域からのサポート案件エンティティを削除するには、ポータル グローバル検索に関連付けられたサイト設定を変更する必要があります。 次のサイト設定は変更する必要があります:

検索/フィルター: これにより、検索ページのフィルターのほか、サイトのヘッダーの検索ボックスからもサポート案件エンティティが削除されます。 既定では、この値は次のとおりです: `Content:adx_webpage,adx_webfile;Blogs:adx_blog,adx_blogpost;Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Ideas:adx_ideaforum,adx_idea;Help Desk:incident;Knowledge:knowledgearticle`

インシデント エンティティが UI の検索ボックスの横にあるフィルターから削除されるように、このサイト設定の値から `Help Desk:incident;` を削除する必要があります。

変更後の値は次のとおりです:

`Content:adx_webpage,adx_webfile;Blogs:adx_blog,adx_blogpost;Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Ideas:adx_ideaforum,adx_idea;Knowledge:knowledgearticle`

このサイト設定が変更されると、検索ページのほか、ヘッダーのフィルターからもサポート案件エンティティが削除されます。

![ページでの検索](../media/search-on-page.png "ページでの検索")

![ヘッダーでの検索](../media/search-in-header.png "ヘッダーでの検索")

## <a name="next-steps"></a>次のステップ

[追加エンティティのグローバル検索の構成](search-additional-entities.md)

### <a name="see-also"></a>関連項目

- [ファセット検索の使用](improve-portal-search-faceted-search.md)
- [添付ファイルの検索](search-file-attachment.md)
