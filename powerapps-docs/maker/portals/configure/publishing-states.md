---
title: Power Apps ポータルの公開状況の作成および管理 | MicrosoftDocs
description: ポータルに公開状況を作成し管理する方法について説明します。
author: tapanm-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/22/2019
ms.author: tapanm
ms.reviewer: ''
ms.openlocfilehash: 6daf92aa4d821b66b8388826d69dcb8bbd99ddb4
ms.sourcegitcommit: a0d069f63d2ce9496d578f81e65cd32bec2faa4d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/23/2020
ms.locfileid: "2980530"
---
# <a name="create-and-manage-publishing-states"></a>公開状況の作成および管理

公開状況ではポータル Web サイトでコンテンツのライフサイクルを定義することができます。 基本レベルで、関連するエンティティがポータル上で表示/公開済みとみなす必要があるかを公開状況によって判断することができます。 より複雑な構成では、各ステージのセキュリティ制限を使用して、コンテンツのレビューおよび公開のためのマルチステージ プロセスを定義することができます。

公開状況は [Web ページ](web-page.md)、[Web ファイル](web-files.md)、[Web リンク](manage-web-links.md)、フォーラム、および広告で使用することができます。

既定では、下書きおよび公開済みの、2 つの公開状況が使用可能です。 下書きはコンテンツの作成者ではないユーザーに対して表示しないコンテンツを指定し、公開済みはすべてのポータル ユーザー (他のセキュリティ制限がない場合) に対して表示する必要があるコンテンツを指定します。 必要な場合は新しい状況または名前を変更した状況を追加することにより、特定の要件を満たすように既定の構成を変更することができます。

## <a name="manage-publishing-states"></a>公開状況の管理

公開状況はポータル内で作成、編集、および削除することができます。

1. [ポータル管理アプリ](configure-portal.md)を開きます。

2. **ポータル** > **Web サイト**に移動します。

3. 公開状況を管理する Web サイトを選択します。

4. **公開状況** タブに移動します。利用可能な公開状態のリストが表示されます。

    > [!div class=mx-imgBorder]
    > ![公開状況の管理](../media/publishing-states.png "公開状況の管理")

5. 新しい公開状況を追加するには、**新しい公開状況を追加** を選択します。

6. 既存の公開状況を編集するには、公開状況名を選択します。

7. 公開状況ウィンドウで、フィールドに適切な値を入力します。

8. **保存して閉じる**を選択します。


### <a name="publishing-state-attributes"></a>公開状況の属性

|名前|説明|
|-----|--------|
|名前|状況の内容を示す名前。 これは必須フィールドです。|
|Web サイト|状況が属する Web サイトです。 これは必須フィールドです。|
|既定|チェックされる場合、Web サイトの既定の状況としてこの状況を指定します。 これにより、ポータル フロントサイド編集インターフェイスを介して新しいエンティティを作成するときに選択した既定の状況が決定されます。<br>**メモ**: 特定の Web サイトの公開状況のいずれかのみが既定の状況としてマークされます。|
|表示する|チェックされる場合、この状況と関連付けられたエンティティがポータル上で表示される (または公開済み) とみなされることを示します。<br>非表示状態に関連付けられたエンティティはポータル上で表示されませんが、非表示状態に関連付けられたエンティティも、セキュリティ許可、有効期限、または他の表示ルールのために表示されない場合があります。<br>コンテンツ管理のアクセス許可を持つユーザーは、非公開のコンテンツをユーザーが表示 (プレビュー) できるプレビュー モードを使用することができます。|
|[表示順序]|状態が配置される順序を示す整数値で、大抵のポータルのフロントサイド編集インターフェイス内の、公開状況を選択するためのメニューおよびドロップダウン リストにあります。|
|||

## <a name="publishing-state-transition-rules"></a>公開状況移行ルール

公開状況移行ルールを使用すると、公開状況の観点から、ポータル上でどのロールがどのコンテンツの変更を実行する権利を持つかに関して詳細にコントロールすることができます。

緻密であるためには、公開状況移行ルールにより公開状況間 (下書きまたは公開済み) の移行を管理する必要があります。 ユーザーがある項目の公開状況を別の状況に切り替えようとするとき、この移行のためのルールが存在する場合、セキュリティ プロバイダーはログインしているユーザーがこの移行を実行する許可を持つ状態にします。

変更を試みるログインしているユーザーがいずれかのルールを割り当てられている場合、移行は成功します。 ユーザーがルールを変更する権限を持たない場合は、フロントサイド編集はその変更を許可しません。 または、ルールを作成することができます。次に、Web ロールを作成するとき、ルールを Web ロールに追加します。 1 つのルールは任意の数の Web ロールに関連付けることができ、その逆も可能です。

1. [ポータル管理アプリ](configure-portal.md)を開きます。

2. **ポータル** > **公開状況移行ルール**の順に移動します。

3. 新しいルールを作成するには、**新規**を選択します。

4. 既存のルールを編集するには、ルール名を選択します。

5. 公開状況移行ルールウィンドウで、フィールドに適切な値を入力します。

6. **保存**を選択すると、さらに Web ロールを追加することができます。

    > [!div class=mx-imgBorder]
    > ![公開状況移行ルールの作成](../media/publishing-state-transition-rule.png "公開状況移行ルールの作成")

7. **Web ロール**タブで、**既存の Web ロールを追加**を選択します。 **ルックアップ レコード** ウィンドウで、適切な Web ロールを参照して追加します。

8. **保存**を選択します。

## <a name="state-based-control-rules"></a>状況ベースのコントロール ルール

[Web ページ アクセス制御ルール](webpage-access-control.md) は公開状況とリンクして、Web サイトの分岐およびその分岐内のコンテンツの公開状況に基づき、コンテンツを表示または変更する権利を許可または拒否することができます。 これを達成するには、Web ページのアクセス制御ルールを公開状況に関連付けます。 公開状況に関連付けると、そのルールはその公開状況がアクティブな時にのみ Web ページに適用されます。

たとえば、だれかにコンテンツ公開ロールを付与して、ページが下書きモードの時にのみページ コンテンツを変更することができるようにすると仮定します。  これにより、ページが「ライブ」の時にページに対する変更が実行されず、変更の保留中に承認プロセスを実行できるようにします。

そのためには、変更許可を付与したルールを作成し、それを疑わしい分岐に適用します (またはルールがサイト全体に適用される場合はホーム ページ)。 次に、このルールを下書き状態に関連付けます。

> [!div class=mx-imgBorder]
> ![状況ベースのコントロール ルールの作成](../media/state-based-control-rule.png "状況ベースのコントロール ルールの作成")

次に、このルールを適切な Web ロール、たとえばコンテンツの公開に関連付けます。 この Web サイトがさらにアクセス許可ルール (つまり、公開状況にかからわずに変更を付与するルール) と関連付けられないと仮定すると、コンテンツ公開 Web ロールを持つユーザーは下書き状態のページは変更することができますが、公開状況にあるページは変更することができません。
