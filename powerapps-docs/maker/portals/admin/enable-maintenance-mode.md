---
title: ポータルのメンテナンス モードの有効化 | MicrosoftDocs
description: ポータルでメンテナンス モードを有効にする方法について説明します。
author: neerajnandwana-msft
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/11/2019
ms.author: nenandw
ms.reviewer: tapanm
ms.openlocfilehash: 9dc1401122acc59fb63787bb73e73280a1f9ea8b
ms.sourcegitcommit: 2fd873a1ea17f419f6194714efffa47a9bd00c2e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/26/2020
ms.locfileid: "3506732"
---
# <a name="maintenance-mode-for-a-portal"></a>ポータルのメンテナンス モード

ウェブサイトが予定されたメンテナンス状態か、一時的な停止でダウンしている時がある可能性があります。 メンテナンス中に顧客が Web サイトにアクセスすると、予期しない動作や断続的な利用不能状態が発生する可能性があります。 

ポータル管理者として、メンテナンス中はいつでも顧客に適切なメッセージを表示するようポータルを構成できます (たとえば、"ソリューション パッケージをアップグレードしています")。ポータルでメンテナンス モードを有効にすることでこの機能を活用できます。 メンテナンスモードが有効の場合はメッセージが表示され、顧客は `<portal URL>/_services/about` ページ以外のウェブページの閲覧を制限されます。

> [!div class=mx-imgBorder]
> ![既定のメンテナンス モード ページ](../media/default-maint-page.png "既定のメンテナンス モード ページ")

## <a name="enable-maintenance-mode"></a>メンテナンス モードを有効にする

ウェブサイトの予定されたメンテナンス中の予測不可能なふるまいに対処する代わりに、ポータルでメンテナンス モードを有効にして一貫したメッセージを提供できます。 これはポータル ユーザーにより良いエクスペリエンスを提供します。

1. [Power Apps ポータル管理センター](admin-overview.md) を開きます。

3. **ポータル アクション** > **メンテナンス モードを有効にする** に移動します。

    > [!div class=mx-imgBorder]
    > ![メンテナンス モードを有効にする](../media/enable-maint-mode-button.png "メンテナンス モードを有効にする")

4. **メンテナンス モードを有効にする** ウィンドウで、次の値を入力します:
    - **メンテナンス モードが有効のときに使用するページを選択します**: 次の値のひとつを選択します:

        - **既定のページ**: メンテナンス モードが有効のときに既定のページを表示する場合はこの値を選択します。 既定ではこのオプションが選択されます。

        - **カスタム ページ**: メンテナンス モードが有効のときにカスタム HTML ページを表示する場合はこの値を選択します。

    - **カスタム ページの URL**: このフィールドはカスタム HTML ページを表示するオプションを選択した場合にのみ有効になります。 提供するページの URL が一般にアクセス可能である必要があります。 指定した HTML ページにアクセスできない場合は、既定のページが管理者へのメモとともに表示されます。

        > [!NOTE]
        > カスタム メンテナンス ページは、IFrame を使用してページを表示します。 したがって、ページには `x-frame-options:SAMEORIGIN` 応答ヘッダーを含めないでください。そうでなければ、ページは読み込まれません。

5. **有効化** を選択します。 メンテナンス モードが有効化される間、ポータルは再起動して数分間使用できなくなります。 

    > [!div class=mx-imgBorder]
    > ![メンテナンス モード設定の有効化](../media/enable-maint-mode.png "メンテナンス モード設定の有効化")

## <a name="configure-or-disable-maintenance-mode"></a>メンテナンス モードを構成するか無効にする

ポータルでメンテナンス モードを有効にした後、メンテナンス モードの設定を更新して別のページを選択できます。

ウェブサイトの予定されたメンテナンスが完了したら、ポータルでメンテナンス モードを無効にすることもできます これでポータル ユーザーは通常どおりすべての Web ページを参照してアクセスできます。

1. [Power Apps ポータル管理センター](admin-overview.md) を開きます。

2. **ポータル アクション** > **メンテナンス モードを構成または無効にする** に移動します。

    > [!div class=mx-imgBorder]
    > ![メンテナンス モードの構成](../media/configure-maint-mode-button.png "メンテナンス モードの構成")

3. 必要に応じて設定を変更して **更新** を選択します。 たとえば、以前にカスタム ページを表示するように選択した場合は、既定のページを表示するように選択できます。

4. メンテナンス モードを無効にするには **無効** を選択します。 メンテナンス モードが更新または無効化される間、ポータルは再起動して数分間使用できなくなります。

    > [!div class=mx-imgBorder]
    > ![メンテナンス モード設定の更新](../media/configure-maint-mode.png "メンテナンス モード設定の更新")

