---
title: ポータルの Liquid オブジェクトを使用する | MicrosoftDocs
description: ポータルで使用可能な Liquid のオブジェクトについて説明します。
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: null
ms.date: 08/30/2019
ms.author: shjais
ms.reviewer: null
---

# <a name="available-liquid-objects"></a>使用可能な Liquid オブジェクト

流動オブジェクトは、ページに動的コンテンツを出力するための属性が含まれます。 たとえば、ページ オブジェクトには title という現在のページのタイトルを出力するのに使用できる属性があります。

オブジェクト属性に名前でアクセスするには、ドットを使用します。 テンプレートにあるオブジェクトの属性を表示するには、 {{ と }} で囲みます。

```
{{ page.title }}
```
オブジェクトの属性には、文字列名を使用して \[\] でアクセスすることもできます。 これは、目的の属性が動的に決定される場合や、構文を使用する際に無効になってしまう特定の文字、スペースや特殊文字などが属性の名前に含まれる場合に便利です。 構文。

```
{{ page[title] }}

{% assign attribute_name = Name with spaces %}

{{ object[attribute_name] }}
```

次のオブジェクトは、どこでも、どのテンプレートからでも使用およびアクセスできます。


|   オブジェクト    |                                                                                                                                                                                          内容                                                                                                                                                                                           |
|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  エンティティ   |                                                                                                 ID により PowerApps エンティティを読み込むことができます。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [エンティティ](#entities)                                                                                                 |
|     今すぐ     |                                          現在の UTC 時間を示す日時のオブジェクト。テンプレートの表示時点です。<br>**メモ**: この値は、ポータル Web アプリでキャッシュされており、毎回更新されるわけではありません。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [日付フィルター](liquid-filters.md#date-filters)                                          |
|    ページ     | 現在のポータルの要求ページを示します。 ページ オブジェクトは、現在のページの階層リンク、現在のページのタイトルや URL、および基になる PowerApps レコードのそのほかの属性や関連エンティティにアクセスする方法を提供します。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [ページ](#page) |
|   パラメーター    |                                                                                                                             要求パラメーターの便利なショートカット。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [要求](#request)                                                                                                                              |
|   要求   |                                                                                                                        現在の HTTP 要求に関する情報が含まれます。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [要求](#request)                                                                                                                        |
|  設定   |                                                                                                            名前別にすべての[サイト設定](../configure-site-settings.md)を読み取ることができます。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [設定](#settings)                                                                                                            |
|   サイト マップ   |                                                                                                                               ポータル サイト マップへのアクセスを許可します。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [サイトマップ](#sitemap)                                                                                                                                |
| サイト マーカー |                                                                                                                        名前別にすべてのサイト マーカーを読み取ることができます。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [サイトマーカー](#sitemarkers)                                                                                                                        |
|  スニペット   |                                                                                                         名前によって[コンテンツ スニペット](https://docs.microsoft.com/en-us/dynamics365/customer-engagement/portals/customize-content-snippets)を読み取ることができます。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [スニペット](#snippets)                                                                                                         |
|    ユーザー     |                             ポータルの現在のユーザーを参照するもので、基になる PowerApps 担当者レコードのすべての属性にアクセスすることができます。 サインインしているユーザーがいない場合、この変数は [null](liquid-types.md#null) になります。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [ユーザー](#user)                              |
|  Web リンク   |                                                                                                                        名前または ID を指定して、任意の Web リンクのセットを読み取ることができます。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [Web リンク](#weblinks)                                                                                                                        |
|   Web サイト   |                                                      ポータルの Web サイト レコードを参照するもので、ポータルの PowerApps Web サイト (adx\_website) レコードのすべての属性にアクセスすることができます。 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [Web サイト](#website)                                                       |

## <a name="ads"></a>広告


広告へのアクセスおよび表示の機能を提供します。

広告オブジェクトにより、特定の広告の選択や、広告の配置の選択ができます。

```
<div>

{% assign ad = ads[Ad Name] %}

<h4>{{ ad.title }}</h4>

<a href={{ ad.redirect_url }}>

<img src={{ ad.image.url }} alt={{ ad.image.alternate_text }} />

</a>

</div>
```

### <a name="ads-attributes"></a>広告の属性

|属性   |内容   |
|---|---|
| 配置        | adplacements (広告の配置) オブジェクトを返します。    |
| \[広告の名前または ID\] | 名前または ID プロパティで、任意の広告にアクセスできます。 <br> `{% assign ad = ads[Ad Name] %}`<br>`{% assign ad = ads["da8b8a92-2ee6-476f-8a21-782b047ff460"] %}`  |


### <a name="ad-placements-attributes"></a>広告の配置属性

|属性   |内容   |
|---|---|
| \[広告の配置の名前または ID\] | 名前または ID プロパティで、任意の adplacement (広告の配置) にアクセスできます。<br>`{% assign placement = ads.placements[Placement Name or Id] %}`<br>`{% assign placement = ads.placements[2423d713-abb3-44c3-8a7d-c445e16fccad] %}`  |

### <a name="ad-placement-attributes"></a>広告の配置属性

「広告の配置」はエンティティ オブジェクトで、共通の属性の他に、次に示す属性があります。

|属性   |内容   |
|---|---|
| 広告            | 配置に関連付けられる広告オブジェクトのコレクションが返されます。  [反復タグ](iteration-tags.md)および[配列フィルター](liquid-filters.md#array-filters)がこのコレクションに使用される場合があります。  |  
| 件名           | 広告の配置の名前フィールドを返します。                                                                |
| placement\_url | 広告の配置を取得するのに使用できる URL は、テンプレートによって完全に表示されます。                         |
| random\_url    | テンプレートによって完全に表示された配置からランダムな広告を取得するのに使用できる URL。           |

### <a name="ad-attributes"></a>広告の属性

> [!Note]
> 「広告」はエンティティ オブジェクトで、共通の属性の他に、次に示す属性があります。

|属性   |内容   |
|---|---|
| ad\_url |  テンプレートによって完全に表示された広告を取得するのに使用できる URL。   |
| コピー| 広告の [コピー] フィールドを返します。|
| 画像| 広告の画像オブジェクト (ある場合) が返されます。|
| 件名| 広告の [名前] フィールドを返します。|
| open\_in\_new\_window | redirect\_url で指定された URL が新しいウィンドウを開く場合は true を返します。 |
| redirect\_url| 広告を選択することによりユーザーが誘導される URL。|

### <a name="ad-image-attributes"></a>広告のイメージ属性

|属性   |内容   |
|---|---|
| alternate\_text | タグの alt 属性に表示されるように意図されたテキストを返します。 |
| 高さ          | 画像の高さをピクセルで返します。                             |
| URL             | 画像の URL ソースを返します。                                  |
| 幅           | 画像の幅をピクセルで返します。                              |


## <a name="blogs"></a>ブログ

ブログおよびブログ記事へアクセスして表示する機能を提供します。

ブログ オブジェクトにより、特定のブログやブログ投稿を選択できます。

```
{% assign posts = blogs.posts | paginate: 0,4 %}

<div class=content-panel panel panel-default>

<div class=panel-heading>

{% assign sitemarker = sitemarkers[Blog Home] %}

{% assign snippet = snippets[Home Blog Activity Heading] %}

<a class=pull-right href={{sitemarker.url}}> All Blogs </a>

<h4>

<a class=feed-icon fa fa-rss-square href={{ blogs.feedpath }} />

{{ snippet.adx_value }}

</h4>

</div>

<ul class=list-group>

{% for post in posts.all %}

<li class=list-group-item >

<a class=user-avatar href={{ post.author_url }}>

<img src={{ post.user_image_url }} />

</a>

<h4 class=list-group-item-heading>

<a href={{ post.app_relative_path }}>{{ post.title }}</a>

</h4>

<div class=content-metadata>

<abbr class=timeago>{{ post.publish_date }}</abbr>

&ndash;

<a href={{ post.author_url }}> {{ post.author_name }} </a>

&ndash;

<a href={{ post.application_path }}#comments>

<span class=fa fa-comment aria-hidden=true></span> {{ post.comment_count }}

</a>

</div>

</li>

{% endfor %}

</ul>

</div>
```

### <a name="blogs-object"></a>ブログ オブジェクト

ブログのオブジェクトにより、ポータルの任意のブログ、およびポータルのすべてのブログ記事 (ブログに関係なく) にアクセスできます。

次の表は、ブログ オブジェクトに関連付けられる属性を説明したものです。

|属性   |内容   |
|---|---|
| 投稿               | ポータルのすべてのブログ投稿を格納する blogposts オブジェクトを返します。     |
| \[ブログの名前または ID\] | 名前または ID プロパティで、任意のブログにアクセスできます。                   

```
{% assign blog = blogs[Blog Name] %}                             

{% assign blog = blogs[da8b8a92-2ee6-476f-8a21-782b047ff460] %}  |
```

### <a name="blog-object"></a>ブログ オブジェクト

ブログ オブジェクトにより、単一のブログを使用できるようになり、そのブログの投稿へアクセスできるようになります。

次の表は、ブログ オブジェクトに関連付けられるさまざまな属性を説明したものです。

|属性   |内容   |
|---|---|
| 投稿 | ブログのすべてのブログ投稿を格納する blogposts オブジェクトを返します。 |
| 件名  | ブログの名前です。                                              |
| タイトル | ブログのタイトルです。                                             |
| URL   | ブログの URL です。                                               |

### <a name="blogposts-object"></a>blogposts オブジェクト

blogposts オブジェクトにより、ブログ記事オブジェクトのコレクションにアクセスできます。 ブログ記事を発注して改ページを実行し、Liquid フィルターも使用できます。

{ % assign blogposts = blogs.posts | order\_by “adx\_name”, “desc” | paginate: 0,4 | all %}。blogs.posts.all もすべてのブログ投稿を取得する有効な方法であることに注意してください。blogs.posts | from\_index: 0 | take: 2 も可能です。

次の表は、blogposts オブジェクトに関連付けられるさまざまな属性を説明したものです。

|属性   |内容   |
|---|---|
| すべて | コレクションのすべての blogpost オブジェクトを返します。 |

### <a name="blogpost-object"></a>blogpost オブジェクト

単一のブログ記事を参照します。

次の表は、blogpost オブジェクトに関連付けられるさまざまな属性を説明したものです。

|属性   |内容   |
|---|---|
| URL            | 投稿の URL です。                                                                |
| コンテンツ        | 投稿のコンテンツ フィールドを返します。                                             |
| コンテンツ        | 投稿のコンテンツ フィールドを返します。                                             |
| 作成者         | 投稿 (単純に取引先担当者 エンティティ オブジェクト) の作成者を返します。          |
| タイトル          | 投稿のタイトルです。                                                              |
| comment\_count | 特定の投稿のコメント数の整数値を返します。 |
| publish\_date  | 投稿が公開された日付。                                           |

## <a name="entities"></a>エンティティ

ID により PowerApps エンティティを読み込むことができます。 エンティティがある場合は、エンティティ オブジェクトが返されます。 指定された ID のエンティティが見つからない場合は、[null](liquid-types.md#null) が返されます。  

```
{% assign account = entities.account['936DA01F-9ABD-4d9d-80C7-02AF85C822A8'] %}

{% if account %}

{{ account.name }} ({{ account.statecode.label }})

{% endif %}

{% assign entity_logical_name = 'contact' %}

{% assign contact = entities[entity_logical_name][request.params.contactid] %}

{% if contact %}

{{ contact.fullname }} ({{ contact.parentcustomerid.name }})

{% endif %}
```

### <a name="entity"></a>Entity

エンティティ オブジェクトは、PowerApps のエンティティ レコードの属性へのアクセスを提供します。


|             属性              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           内容                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                 ID                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    エンティティの GUID ID、文字列。 たとえば、936DA01F-9ABD-4d9d-80C7-02AF85C822A8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|           logical\_name            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   エンティティの PowerApps 論理名                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|               メモ                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             エンティティに関連付けられている任意のメモ (コメント) を読み込み、最も古いほうから新しいほうに順に並び替えられます (createdon)。 メモは、メモ オブジェクトとして返されます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|            アクセス許可             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             エンティティについての [エンティティのアクセス権] のアサーション結果を読み込みます。 結果は、アクセス許可オブジェクトとして返されます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                url                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    エンティティの PowerApps ポータルのコンテンツ管理システム URL のパスを返します。 エンティティに現在の Web サイトで有効な URL がない場合、null が返されます。 通常これは、アプリケーションで URL プロバイダーをカスタマイズしていない限り、ポータル CMS に統合されている特定のエンティティの種類についての値のみを返します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \[属性または関連付けの名前\] | 論理名で PowerApps エンティティの任意の属性にアクセスできます。 `{{ entity.createdon }}{% assign attribute_name = 'name' %}{{ entity[attribute_name] }}` <br>ほとんどのエンティティ属性の値は、直接 [Liquid の種類](liquid-types.md)にマッピングされます。2 値のオプション フィールドがブール値、テキスト フィールドが文字列、数値/通貨フィールドが数字、日付/時刻フィールドが日付オブジェクトにマッピングされます。 ただし、一部の属性の種類はオブジェクトとして返されます。<ul><li>Lookup (エンティティ参照) フィールドは、エンティティ参照オブジェクトとして返されます。</li><li>オプション セット/候補リスト フィールドは、オプション セット値のオブジェクトとして返されます。</li><li>関係スキーマ名により、任意の関連エンティティを読み込むこともできます。</li>`{{ page.adx_webpage_entitylist.adx_name }}`関連付けが再帰 (すなわち自己参照) の場合、再帰関係オブジェクトが返されます。 (それ以外の場合、結果は曖昧になります)`{{ page.adx_webpage_webpage.referencing.adx_name }}` <br>**メモ**: 大量の関連エンティティを読み込む場合や、単一のテンプレートで大量の関連付けにアクセスする場合、テンプレートの表示パフォーマンスに悪い影響を与える可能性があります。 ループ内で、配列の各要素について関連するエンティティの読み込みを避けます。 可能な場合、エンティティのコレクションを読み込むために、[PowerApps  Common Data Service エンティティ タグ](portals-entity-tags.md) を使用します。 |

### <a name="entity-reference"></a>エンティティの参照

検索属性の値は、次の属性を持つエンティティ参照オブジェクトとして返されます。


|   属性   |                                                内容                                                |
|---------------|-----------------------------------------------------------------------------------------------------------|
|      ID       | 参照先エンティティの GUID ID、文字列。 <br> たとえば、936DA01F-9ABD-4d9d-80C7-02AF85C822A8 |
| logical\_name |  参照先エンティティの PowerApps 論理名。   |
|     件名      |                           参照先エンティティのプライマリ名属性。                            |

### <a name="note"></a>メモ 

「メモ」は、コメント レコードの属性および関連付けへのアクセスを提供するエンティティ オブジェクトです。 エンティティ オブジェクトのすべての属性に加えて、メモには次の追加の属性があります。


|  属性   |                                                                                                                                                                                                                                  内容                                                                                                                                                                                                                                  |
|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| documentbody | メモ コメント レコードの documentbody 属性を、Base64 エンコードされた文字列として読み込みます。 この属性のコンテンツは長い可能性があるため、メモのほかの属性と同様には読み込まれず、オンデマンドでのみ読み込まれます。 <br> **メモ**: documentbody 属性を使用すると、テンプレートの表示パフォーマンスに悪い影響がある場合があるため、注意して使用する必要があります。<br>url 属性を使用すると、可能な場合、かわりにメモの添付ファイルへのリンクを提供します。 |
|     url      |                                                                                                                                   組み込みのポータル用コメント添付ファイル ハンドラーの URL パスを返します。 ユーザーにアクセス許可があり、メモに添付ファイルがある場合は、この URL へのリクエストはメモの添付ファイルのダウンロードになります。                                                                                                                                    |

>[!Note]
> [追加フィルター](liquid-filters.md#additional-filters)                     

### <a name="option-set-value"></a>オプション セット値

オプション セット/候補リスト属性の値は、次の属性を持つエンティティ参照オブジェクトとして返されます。

| 属性 | 内容                                                     |
|-----------|-----------------------------------------------------------------|
| ラベル     | オプション セット/候補リスト属性の値のローカライズされたラベル。 たとえば、アクティブです。|
| Value     | オプション セット/候補リスト属性の値の整数値。 たとえば、0 です。                                                           |

### <a name="entity-permissions"></a>エンティティのアクセス許可

エンティティへのアクセス許可を持つオブジェクトは、エンティティについての集合的なアクセス許可のアサーション結果へのアクセスを提供します。

| 属性       | 内容                                                                                                                                                                                                              |
|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| can\_append     | 現在のユーザーがこのレコードの関連付けにレコードを追加するアクセス許可を持つ場合、true が返されます。 それ以外の場合は、false を返します。                                                                                              |
| can\_append\_to | 現在のユーザーがほかのエンティティの関連付けにこのレコードを追加するアクセス許可を持つ場合、true が返されます。 それ以外の場合は、false を返します。                                                                                      |
| can\_create     | 現在のユーザーがこのエンティティの種類の新しいレコードを作成するアクセス許可を持つ場合、true が返されます。 それ以外の場合は、false を返します。                                                                                                      |
| can\_delete     | 現在のユーザーがこのレコードを削除するアクセス許可を持つ場合、true が返されます。 それ以外の場合は、false を返します。                                                                                                                          |
| can\_read       | 現在のユーザーがこのレコードを読み取るアクセス許可を持つ場合、true が返されます。 それ以外の場合は、false を返します。                                                                                                                            |
| can\_write      | 現在のユーザーがこのレコードを更新するアクセス許可を持つ場合、true が返されます。 それ以外の場合は、false を返します。                                                                                                                          |
| rules\_exist    | このオブジェクトが表すアクセス許可の結果が、明示的に定義されたアクセス許可のルールである場合、true が返されます。 これらが明示的に定義されたアクセス許可がないときの既定の結果の場合、false が返されます。 |

### <a name="reflexive-relationship"></a>再帰関係

次の属性を持つオブジェクトとして返されるエンティティについて、再帰関係 (自己参照など) を読み込みしようとします。

| 属性     | 内容                                                                                                   |
|---------------|---------------------------------------------------------------------------------------------------------------|
| is\_reflexive | true を返します。 関係から返されたオブジェクトが再帰関係オブジェクトかどうかをテストする場合に使用できます。 |
| 参照先    | 指定の関係について、参照先エンティティの配列として返します。                                           |
| 参照元   | 指定の関係について、参照元エンティティの配列を返します。 参照元エンティティが存在しない場合、null を返します。 関連付けが多対多 (N:N) の場合、参照元エンティティの配列を返します。                          

## <a name="entitylist"></a>entitylist

エンティティリスト オブジェクトは [PowerApps Common Data Service エンティティ タグ](portals-entity-tags.md) 内で使用されます。 また、特定のエンティティ リストのすべての属性へのアクセスを提供します。  

> [!Note]                                                       
> [現在のページに関連付けられているエンティティの表示](render-entity-list-current-page.md)

### <a name="attributes"></a>属性

> [!Note]
> [エンティティ](#entities)

|               属性               |                                                                                                                            内容                                                                                                                            |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            create\_enabled            |                                                                                エンティティ リストの新規レコードが作成できるよう構成されている場合は、true を返します。 それ以外の場合は、false を返します。                                                                                |
|              create\_url              |                                                                                          エンティティ リストのリンク/ボタン作成用に構成された URL パスを返します。                                                                                          |
|            detail\_enabled            |                                                                         エンティティ リストの個々のレコードを詳細表示できるよう構成されている場合は、true を返します。 それ以外の場合は、false を返します。                                                                          |
|         detail\_id\_parameter         |               レコードの詳細表示の URL 構築の際に、レコード ID に使用するクエリ文字列のパラメーター名を返します。 URL の構築に Liquid フィルターを使用する場合の詳細については、[URL フィルター](liquid-filters.md#url-filters)を参照してください。 例えば、id です。                |
|             detail\_label             |                                                                                     エンティティ リスト用に構成されたローカライズ済みの詳細表示のリンク/ボタンのラベルを返します。                                                                                     |
|              detail\_url              |                                                                                       エンティティ リスト用に構成された詳細表示のリンク/ボタンの URL パスを返します。                                                                                        |
|           empty\_list\_text           |                                                                                エンティティ リストのビューが何も結果を返さない場合に表示される構成されたローカライズ済のテキストを返します。                                                                                |
|      enable\_entity\_permissions      |                                                                               「エンティティのアクセス許可」フィルターがエンティティ リストに対して有効化されている場合、true を返します。 それ以外の場合は、false を返します。                                                                               |
|         entity\_logical\_name         |                                                 このエンティティ リストによって表示されるレコードの PowerApps エンティティ論理名を返します。 たとえば、取引先担当者                                                 |
|   filter\_account\_attribute\_name    |                                            現在のポータル ユーザーの取引先企業の親会社により結果のレコードをフィルター処理するために使用されるアカウントを検索するための属性論理名を返します。 たとえば、accountid です。                                            |
|         filter\_apply\_label          |                                                            エンティティ リストの結果に高度な属性フィルター処理を適用するリンク/ボタンに対して使用される構成済されたローカライズ済みのラベルを返します。                                                            |
|          filter\_definition           |                      エンティティ リストに対する JSON 属性フィルターの定義を返します。 この定義を処理するための metafilters Liquid フィルターの使用方法についての詳細は、[エンティティ リスト フィルター](liquid-filters.md#entity-list-filters)を参照してください。                       |
|            filter\_enabled            |                                                                               エンティティ リストに対して高度な属性フィルター処理が有効化されている場合は、true を返します。 それ以外の場合は、false を返します。                                                                               |
| filter\_portal\_user\_attribute\_name |                                                 現在のポータル ユーザーの取引先担当者によって結果のレコードをフィルター処理するために使用される取引先担当者を検索するための属性論理名を返します。 たとえば、contactid です。                                                  |
|   filter\_website\_attribute\_name    |                                              現在のポータル Web サイトによって結果のレコードをフィルター処理するために使用される adx\_website を検索するための属性論理名を返します。 例: adx\_websiteid                                              |
|            language\_code             |                                               このエンティティ リスト用にローカライズされたすべてのラベルを選択するために使用される PowerApps 整数言語コードを返します。                                                |
|              page\_size               |                                                                                                   このエンティティ リストに対して構成された結果のページ サイズを返します。                                                                                                    |
|          primary\_key\_name           |                                                                                  このエンティティ リストによって表示されるレコードの主キーの属性論理名を返します。                                                                                  |
|            search\_enabled            |                                                                                         このエンティティ リストの検索が有効化されている場合、true を返します。 それ以外の場合は、false を返します。                                                                                          |
|          search\_placeholder          |                                                                                        エンティティ リストの検索フィールドのプレースホルダー用に構成されたローカライズ済みのテキストを返します。                                                                                        |
|            search\_tooltip            |                                                                                             エンティティ リストの検索ツールヒント用に構成されたローカライズ済みのテキストを返します。                                                                                             |
|                 ビュー                 |                                                                                           エンティティ リストが使用できるビューを、エンティティ リストのビュー オブジェクトとして返します。                                                                                           |
|      \[属性論理名\]       | [エンティティ](liquid-objects.md#entity) オブジェクトと同じように、論理名によってエンティティ リスト (adx\_entitylist) PowerApps レコードのすべての属性にアクセスすることができます。 たとえば、 {{ entitylist.adx\_name }} |

### <a name="entity-list-view-attributes"></a>エンティティ リスト ビューの属性

|          属性          |                                                                                     説明                                                                                     |
|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           列           |                                                         エンティティ リスト ビューの列オブジェクトとしてビューの列を返します。                                                         |
|    entity\_logical\_name    |               ビューに含まれるレコードの PowerApps エンティティ論理名を返します。 たとえば、取引先担当者                |
|             ID              |                                                                          ビューの GUID ID を返します。                                                                           |
|       language\_code        | ビュー用のローカライズされたすべてのラベル (列のヘッダーなど) を選択するために使用される PowerApps 整数言語コードを返します。 |
|            件名             |                                          ビューの PowerApps 表示名を返します。                                          |
| primary\_key\_logical\_name |        ビューに含まれるレコードの PowerApps エンティティの主キーの論理名を返します。 たとえば、contactid です。         |
|      sort\_expression       |                                               ビューの既定の並べ替え式を返します。 例: name ASC、createdon DESC                                               |

### <a name="entity-list-view-column-attributes"></a>エンティティ リスト ビューの列属性

|    属性     |                                                                                    内容                                                                                    |
|------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| attribute\_type  | 列の PowerApps 属性種類名を文字列として返します。 例: 検索、候補リスト、文字列、ブール値、日時 |
|  logical\_name   |                       列の PowerApps 属性論理名を返します。 例: createdon                       |
|       Name       |                      列のローカライズ済みの PowerApps 表示名を返します。 例:  Created On                       |
| sort\_ascending  |                                      列を昇順に並べ替えるための並べ替え式の文字列を返します。 例: createdon ASC                                       |
| sort\_descending |                                     列を降順に並べ替えるための並べ替え式の文字列を返します。 例: createdon DESC                                      |
|  sort\_disabled  |                                                   列の並べ替えが無効化されている場合は、true を返します。 それ以外の場合は、false を返します。                                                    |
|  sort\_enabled   |                                                    列の並べ替えが有効化されている場合は、true を返します。 それ以外の場合は、false を返します。                                                    |
|      幅       |                                                              列の構成済みの幅をピクセル単位で返します。                                                              |

## <a name="entityview"></a>エンティティビュー

entityview オブジェクトは、entityview タグの内で使用され、ビューのメタデータへのアクセスおよびビューの結果レコードへのアクセスを提供します。

### <a name="attributes"></a>属性

|          属性          |                                                                               説明                                                                                |
|-----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           列           |                         [エンティティ ビューの列オブジェクト](liquid-objects.md#entity-list-view-column-attributes)として、ビューの列を返します。                          |
| entity\_permission\_denied  | 現在のユーザーについてエンティティのアクセス許可が不足しているためにビューの結果へのアクセスが拒否された場合、true を返します。 ビューの結果に対する読み取りアクセス権が許可された場合、false を返します。 |
|    entity\_logical\_name    |                   ビューの結果レコードの PowerApps エンティティの論理名。 たとえば、取引先担当者                   |
|         first\_page         |                 ビューの結果の最初のページのページ番号。 結果が返されなかった場合は null になり、それ以外の場合は 1 になります。                  |
|             ID              |                            この entityview を定義する PowerApps ビューの GUID ID。                             |
|       language\_code        |             現在のビューにローカライズされたラベルを読み込むのに使用されている PowerApps の整数の言語コード。              |
|         last\_page          |                                 ビューの結果の最後のページのページ番号。 結果が返されなかった場合、これは null になります。                                  |
|            名前             |              この entityview を定義する PowerApps ビューの名前。たとえば、アクティブな取引先担当者。               |
|         next\_page          |                                ビューの結果の次のページのページ番号。 結果の次のページがない場合、これは null になります。                                 |
|            ページ             |                                                           ビューの結果の現在のページのページ番号。                                                           |
|            ページ            |                                          現在のビューのすべての結果ページを含むページ番号の配列を返します。                                          |
|         page\_size          |                                                      現在のビューのページあたりの返される結果数。                                                       |
|       previous\_page        |                              ビューの結果の次のページのページ番号。 結果の前のページがない場合、これは null になります。                               |
| primary\_key\_logical\_name |  このビューの結果エンティティの主キー属性の PowerApps 論理名。 たとえば、contactid。   |
|           レコード           |                                                   エンティティ オブジェクトとして、ビューの結果レコードの現在のページ。                                                    |
|      sort\_expression       |                                             ビューの既定の並べ替え用の式。 たとえば、nameASC、createdon DESC。                                              |
|        total\_pages         |                                                              ビューの結果ページの総数。                                                              |
|       total\_records        |                                                       ビューの結果の総数 (すべてのページ中)。                                                       |

## <a name="events"></a>イベント

イベントにアクセスおよび表示する機能があります。 イベント オブジェクトにより、特定のイベントやすべてのイベントを選択できます。

### <a name="events-object"></a>イベント オブジェクト

イベント オブジェクトにより、ポータルの任意のイベント、およびポータルのすべてのイベント (イベントに関係なく) にアクセスできます。

イベント オブジェクトには、次の属性があります。

|属性   |内容   |
|---|---|
|オカレンス |ポータルのすべてのイベントのオカレンスを格納する eventoccurancessobject を返します。 |
|[イベントの名前または ID] |名前または ID プロパティで、任意のイベントにアクセスできます。<br>{ % assign event = events[&quot;イベント名&quot;] %}<br>{ % assign event = events[&quot;da8b8a92-2ee6-476f-8a21-782b047ff460&quot;] %} |

### <a name="event-object"></a>イベント オブジェクト

イベント オブジェクトにより、単一のイベントを使用できるようになり、このイベントのスケジュールやオカレンスにアクセスできるようになります。

イベント オブジェクトには、次の属性があります。

|属性   |内容   |
|---|---|
| 発生回数 | イベントのすべてのオカレンスを格納する eventoccurancessobject を返します。 |
| 名前       | イベントの名前です。                                                     |
| url        | イベントの URL。                                                      |

### <a name="eventoccurences-object"></a>eventoccurences オブジェクト

eventoccurrences オブジェクトにより、イベント オカレンス オブジェクトのコレクションにアクセスできます。 イベントのオカレンスを並べ替え、取得するオカレンスの日付の範囲を指定して改ページを実行し、Liquid フィルターも使用できます。

```
{% assign occurances = event.occurrences.from[today].to[advance_date] %}
```

次の点に注意

```
{% assign occurances = event.occurrences.min[today].max[advance_date] %}
```

も実行可能です。

次の属性は、eventoccurrences オブジェクトに関連付けられます。

|属性   |内容   |
|---|---|
| すべて | コレクションのすべての eventoccurance オブジェクトを返します。 |

### <a name="eventoccurence-object"></a>eventoccurence オブジェクト

単一のイベントのオカレンスを表します。 以下に、関連付けられた属性を表示します。

|属性   |内容   |
|---|---|
| url                 | オカレンスの URL。    |
| is\_all\_day\_event | これは終日のイベントですか。     |
| start\_time         | イベントの開始時刻です。 |
| end\_time           | イベントの終了時刻です。   |


## <a name="forloop"></a>forloop

[for](iteration-tags.md#for) ループ ブロック内で役立つプロパティを含みます。  

> [!Note]
> forloop は [for](iteration-tags.md#for) タグ内のみで使用可能です。

**コード**

```
{% for child in page.children %}

{% if forloop.first %}

This is the first child page!

{% else %}

This is child page number {{ forloop.index }}.

{% endif %}

{% endfor %}
```

**出力**

```
This is the first child page!

This is child page number 2.

This is child page number 3.
```

### <a name="attributes"></a>属性

|属性   |説明   |
|---|---|
| 第 1   | ループの最初の繰り返しの場合、true を返します。 ループの最初の繰り返しでない場合、false を返します。       |
| インデックス   | 最初のアイテムの場所を 1 としたときの、コレクション内で現在の項目がある位置。                   |
| index0  | 最初のアイテムの場所を 0 としたときの、コレクション内で現在の項目がある位置。                   |
| 最終    | ループの最後の繰り返しの場合、true を返します。 ループの最後の繰り返しでない場合、false を返します。         |
| 長さ  | ループに対して同じ操作を繰り返す数 ߝ コレクション内の繰り返す項目の数を返します。 |
| rindex  | 最後の項目のインデックスを 1 としたときの、ループ内の残りの項目の数 (長さ - インデックス)。              |
| rindex0 | 最後の項目のインデックスを 0 としたときの、ループ内の残りの項目の数 (長さ - インデックス)。              |


## <a name="forums"></a>フォーラム

フォーラムおよびフォーラム スレッドへアクセスして表示する機能を提供します。 なお、フォーラム データの表示に流動を使用する機能は投稿を拡張しますが、新しい投稿またはスレッドを作成するには、前述の組み込み機能 (既定のフォーラム スレッドおよびフォーラム投稿ページ テンプレートなど) のある ASP.NET Web フォーム ページ テンプレートを使用する必要があります。

フォーラム オブジェクトでは、フォーラムやフォーラム スレッドを選択することができます。

```
<div class=content-panel panel panel-default>

<div class=panel-heading>

<h4>

<span class=fa fa-comments aria-hidden=true></span>

{{ snippets[Home Forum Activity Heading] | default: Forum Activity | h }}

</h4>

</div>

{% for forum in website.forums %}

<ul class=list-group>

<li class=list-group-item>

<div class=row>

<div class=col-sm-6>

<h4 class=list-group-item-heading><a href="{{ forum.url | h }}"> {{ forum.name | h }}</a></h4>

<div class=list-group-item-text content-metadata>{{ forum.adx_description | h }}</div>

</div>

<div class=col-sm-3 content-metadata>{{ forum.thread_count }} threads</div>

<div class=col-sm-3 content-metadata>{{ forum.post_count }} posts</div>

</div>

</li>

</ul>

{% endfor %}

</div>
```

### <a name="forums-object"></a>フォーラム オブジェクト

フォーラム オブジェクトにより、ポータルの任意のフォーラム、およびポータルのすべてのフォーラム スレッド (フォーラムにかかわらず) にアクセスできます。

フォーラム オブジェクトにより、単一のフォーラムを使用できるようになり、このフォーラムのスレッドへアクセスできるようになります。

forumthreads オブジェクトにより、forumthreads オブジェクトのコレクションにアクセスできます。 Liquid フィルターを使用することでフォーラム スレッドを指定して改ページを実行することもできます。

```
{% assign threads = forum.threads | order_by adx_name, desc | paginate: 0,4 | all %}
```

シングル フォーラム スレッド

forumposts オブジェクトにより、forumpost オブジェクトのコレクションにアクセスできます。

### <a name="attributes"></a>属性

|属性   |内容   |
|---|---|
| スレッド              | ポータルのすべての forumthread オブジェクトを格納する forumthreads オブジェクトを返します。             |
| すべて                  | ポータルのすべてのフォーラム オブジェクトを返します。 なお、Web サイト フォーラムも同等です。    |
| thread\_count        | Web サイト全体にあるスレッド数の整数値を返します。 |
| post\_count          | ポータルの投稿の合計数の整数値を返します。                       |
| \[フォーラムの名前または ID\] | 名前または ID プロパティで、任意のフォーラムにアクセスできます。 <br>`{ % assign forum = forums[フォーラム 名] %}<br>{ % assign forum = forums[da8b8a92-2ee6-476f-8a21-782b047ff460] %} 

### <a name="forum-object"></a>フォーラム オブジェクト

### <a name="attributes"></a>属性

> [!Note]
> [entities](#entities)

|属性   |説明   |
|---|---|
| スレッド       | フォーラムのすべてのフォーラム スレッドを含む forumthreads オブジェクトを返します。               |
| 件名          | フォーラムの名前。                                                                  |
| thread\_count | フォーラムにあるスレッド数の整数値を返します。      |
| post\_count   | フォーラム全体にある投稿数の整数値を返します。 |

### <a name="forumthreads-object"></a>forumthreads オブジェクト

### <a name="attributes"></a>属性

|属性   |内容   |
|---|---|
| すべて | コレクションのすべての forumthread オブジェクトを返します。 |

### <a name="forumthread-object"></a>forumthread オブジェクト

### <a name="attributes"></a>属性

> [!Note]
> [エンティティ](#entities)

|属性   |内容   |
|---|---|
| 投稿        | スレッドへのすべてのフォーラム投稿を含む forumposts オブジェクトを返します。            |
| 作成者       | スレッド (単純に取引先担当者エンティティ オブジェクト) の作成者を返します。      |
| latest\_post | スレッドの最後の投稿を返します。                                            |
| first\_post  | スレッドの最初の投稿を返します。                                             |
| post\_count  | スレッドにある投稿数の整数値を返します。 |
| is\_answered | このスレッドに、回答できますか、できませんか。                                                    |
| is\_sticky   | このスレッドは難しいスレッドですか。                                                    |

### <a name="forumposts-object"></a>forumposts オブジェクト

### <a name="attributes"></a>属性

|属性   |内容   |
|---|---|
| すべて | コレクションのすべての forumthread オブジェクトを返します。 |

シングル フォーラム投稿

### <a name="attributes"></a>属性

> [!Note] 
> [エンティティ](#entities)

|属性   |内容   |
|---|---|
| 作成者     | 投稿 (単純に取引先担当者エンティティ オブジェクト) の作成者を返します。 |
| 内容    | 投稿の内容。                                                   |
| is\_answer | この投稿はスレッドへの回答ですか。                                      |


## <a name="knowledge"></a>サポート情報

PowerApps knowledgearticle およびカテゴリ エンティティ レコードへのアクセスを提供し、記事およびポータルのカテゴリを表示します。

### <a name="attributes"></a>属性

|属性|内容|
|---|---|
|記事|ポータルで使用可能な knowledgearticle エンティティ レコード用の記事オブジェクトを含む、記事オブジェクトを返します。|
|カテゴリ|ポータルで使用可能なカテゴリ エンティティ レコード用のカテゴリ オブジェクトを含む、カテゴリ オブジェクトを返します。|
|||

### <a name="articles-object"></a>記事オブジェクト

記事オブジェクトにより、記事オブジェクトのコレクションにアクセスできます。 記事を指定して改ページを実行し、Liquid フィルターも使用できます。

```
{% assign count = count | default: 3 %}
{% assign languagecode = website.selected_language.code %}
{% assign popular_articles = knowledge.articles | popular: count,languagecode  %}
{% if popular_articles %}
    <div class=list-group>
    {% for article in popular_articles %}
      <div class=list-group-item clearfix>
        <a class=title href={{ article.url | escape }}>{{ article.title | escape }}</a>
        <p class=description>{{ article.description | escape }}</p>
      </div>
    {% endfor %}
    </div>
{% endif %}
```

### <a name="attributes"></a>属性

|属性|内容|
|---|---|
|人気 |一番多いビューを含む記事オブジェクトのコレクションを返します。 `{% assign popular_articles = knowledge.articles.popular %}` |
|最新 |最新の変更日を含む記事オブジェクトのコレクションを返します。 `{% assign recent_articles = knowledge.articles.recent %}` |
|上位 |最高評価を含む記事オブジェクトのコレクションを返します。 `{% assign top_articles = knowledge.articles.top  %}` |
| | |

### <a name="filters"></a>フィルター

以下のフィルターは、ページ サイズと言語のオプション パラメーターを受け取ることができます。 最初のパラメーターは、取得する数またはレコードです。 既定のページ サイズは 5 です。 2 番目のパラメーターは、特定の言語用の記事を取得する言語のコードです。 フィルターは、他の [Liquid フィルター](liquid-filters.md) と組み合わせることができます。

```
{% assign page_size = 5 %}
{% assign language_code = website.selected_language.code %}
{% assign recent_articles = knowledge.articles | recent: page_size, language_code %}
```

|属性|内容|
|---|---|
|人気 |一番多いビューを含む記事オブジェクトのコレクションを返します。 `{% assign popular_articles = knowledge.articles \| popular: 10, en-US %}` |
|最新 |最新の変更日を含む記事オブジェクトのコレクションを返します。 `{% assign recent_articles = knowledge.articles \| recent: 5 %}` |
|上位 |最高評価を含む記事オブジェクトのコレクションを返します。 `{% assign top_articles = knowledge.articles \| top: 3, en-US %}` |
| | |

### <a name="categories-object"></a>カテゴリ オブジェクト

カテゴリ オブジェクトにより、カテゴリ オブジェクトのコレクションにアクセスできます。 カテゴリを指定して改ページを実行し、Liquid フィルターも使用できます。

```
{% assign category_url = sitemarkers['Category'].url %}
  {% assign count = count | default: 0 %}  
  {% assign categories = knowledge.categories | top_level: count %}
  {% if categories %}
    <div class=list-group unstyled>
    {% for category in categories %}
      <a href={{ category_url | add_query: 'id', category.categorynumber }} class=list-group-item>
        {{ category.title }}
      </a>
    {% endfor %}
    </div>
  {% endif %}
```

### <a name="attributes"></a>属性

|属性|内容|
|---|---|
|最新 |最新の変更日を含むカテゴリ オブジェクトのコレクションを返します。 |
|top_level |親カテゴリを持たないカテゴリ オブジェクトのコレクションを返します。 |
|||

### <a name="filters"></a>フィルター

以下のフィルターは、ページ サイズを示すオプション パラメーターを受け取ることができます。 既定のページ サイズは 5 です。 フィルターは、他の [Liquid フィルター](liquid-filters.md) と組み合わせることができます。

```
{% assign page_size = 5 %}
{% assign recent_categories = knowledge.categories | recent: page_size %}
```

|属性|内容|
|---|---|
|最新 |最新の変更日を含むカテゴリ オブジェクトのコレクションを返します。 パラメーター`{% assign recent_categories = knowledge.categories \| recent: 10 %}`を指定できます |
|top_level |親カテゴリを持たないカテゴリ オブジェクトのコレクションを返します。 `{% assign root_categories = knowledge.categories \| top_level %}` |
|||

### <a name="article-object"></a>記事オブジェクト

記事オブジェクトにより、単一の knowledgearticle を使用してそのポータルの記事の詳細を表示することができます。

### <a name="attributes"></a>属性

記事 [エンティティ](#entity) はエンティティ オブジェクトで、共通の属性の他に、次に示す属性があります。

|属性|内容|
|---|---|
|article_public_number| 記事の記事のパブリック番号。|
|comment_count| 特定の記事のコメント数の整数値。|
|内容|記事の内容。|
|current_user_can_comment|現在のユーザーが記事にコメントを追加できるかどうかを示すブール値を返します。|
|is_rating_enabled|記事の評価が有効かどうかを示すブール値を返します。|
|キーワード|記事のキーワード。|
|名前|記事のタイトルの代替エイリアス。|
|評価|記事の 10 進数評価値。|
|タイトル|記事のタイトル。|
|view_count|記事が表示された回数の整数値。|
|||

### <a name="category-object"></a>カテゴリ オブジェクト

カテゴリ オブジェクトにより、単一のカテゴリを使用してそのポータルでの詳細を表示することができます。

### <a name="attributes"></a>属性

カテゴリは [エンティティ](#entity) エンティティ オブジェクトで、共通の属性の他に、次に示す属性があります。

|属性|内容|
|---|---|
|categorynumber|カテゴリのカテゴリ ナンバー。|
|名前|カテゴリのタイトルの代替エイリアス。|
|タイトル|カテゴリのタイトル。|
|||

## <a name="page"></a>ページ

現在のポータルの要求ページを示します。 このオブジェクトは、[サイト マップ](#sitemap) の属性と現在の要求 [エンティティ](#entities) (通常は Web ページ) を連結します。  

ページ オブジェクトは、現在のページの階層リンク、現在のページのタイトルや URL、および基になる PowerApps レコードのそのほかの属性や関連エンティティにアクセスする方法を提供します。

```
<ul class=breadcrumb>

{% for crumb in page.breadcrumbs %}

<li><a href={{ crumb.url | escape }}>{{ crumb.title | escape }}</a></li>

{% endfor %}

<li class=active>{{ page.title | escape }}</li>

</ul>

<div class=page-header>

<h1>{{ page.title | escape }}</h1>

</div>

<div class=page-copy>

{{ page.adx_copy }}

</div>

<div class=list-group>

{% for child in page.children %}

<a class=list-group-item href={{ child.url | escape }}>

{{ child.title | escape }}

</a>

{% endfor %}

</div>

<!-- Page {{ page.id }} was last modified on {{ page.modifiedon }}. -->
```

### <a name="page-attributes"></a>ページ属性

> [!Note]  
> [エンティティ](#entities)

|             属性              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      内容                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            階層リンク             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 サイト マップ ルート ノードから始まり親で終わる、ページの階層リンク サイト マップ ノード オブジェクトが返されます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|              子              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ページの子サイト マップ ノード オブジェクトを返します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|               上位               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ページの親サイト マップ ノードを返します。 ページがホーム ページの場合、親は null になります。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|               タイトル                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ページのタイトル。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                url                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ページの URL。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| \[属性または関連付けの名前\] | 論理名で、ページの基になる PowerApps レコードの属性にアクセスできます。<br>`{{ page.createdon }}`<br>`{% assign attribute_name = 'name' %}`<br>`{{ page[attribute_name] }}`<br>ほとんどのエンティティ属性の値は、直接 [Liquid の種類](liquid-types.md)にマッピングされます。2 値のオプション フィールドがブール値、テキスト フィールドが文字列、数値/通貨フィールドが数字、日付/時刻フィールドが日付オブジェクトにマッピングされます。 ただし、一部の属性の種類はオブジェクトとして返されます。<ul><li>Lookup (エンティティ参照) フィールドは、[エンティティ参照オブジェクト](#entity-reference)として返されます。</li><li>オプション セット/候補リスト フィールドは、[オプション セット値のオブジェクト](#option-set-value)として返されます。</li> 関係スキーマ名により、任意の関連エンティティを読み込むこともできます。 <br> `{{ page.adx_webpage_entitylist.adx_name }}`<br>関連付けが再帰 (すなわち自己参照) の場合、[エンティティ](#entities) オブジェクトが返されます。 (それ以外の場合、結果は曖昧になります)`{{ page.adx_webpage_webpage.referencing.adx_name }}` <br>**メモ**: 大量の関連エンティティを読み込む場合や、単一のテンプレートで大量の関連付けにアクセスする場合、テンプレートの表示パフォーマンスに悪い影響を与える可能性があります。 ループ内で、配列の各要素について関連するエンティティの読み込みを避けます。 可能な場合、エンティティのコレクションを読み込むために、[PowerApps  Common Data Service エンティティ タグ](portals-entity-tags.md) の使用が好まれます。 |

## <a name="polls"></a>ポーリング

ポーリングにアクセスおよび表示する機能があります。

ポーリング オブジェクトにより、特定のポーリングやポーリングの配置を選択できます。

```
<div>

{% assign poll = polls[Poll Name] %}

<h4>{{ poll.question }}</h4>

{% for option in poll.options %}

<div>

<input type=radio name={{ poll.name }} id={{ option.id }} />

<label for={{ option.id }}>{{ option.answer }}</label>

</div>

{% endfor %}

<button type=button>{{ poll.submit_button_label }}</button>

</div>
```

### <a name="polls-attributes"></a>ポーリング属性

|属性   |内容   |
|---|---|
| 配置          | ポーリングの配置オブジェクトを返します。                                      |
| \[ポーリングの名前または ID\] | 名前または ID プロパティで、任意のポーリングにアクセスできます。 `{% assign poll = polls[Poll Name] %}`<br>`{% assign poll = polls["41827a5c-33de-49b8-a0c7-439e6a02eb98"] %}`  |

### <a name="poll-placements-attributes"></a>ポーリングの配置属性

|属性   |内容   |
|---|---|
| \[ポーリングの配置の名前または ID\] | 名前または ID プロパティで、任意のポーリングの配置にアクセスできます。`{% assign placement = polls.placements[Placement Name or Id] %}`<br>`{% assign placement = polls.placements[7677c5d4-406e-4b6c-907c-916ac17dba0f] %} `|

### <a name="poll-placement-attributes"></a>ポーリングの配置属性

> [!Note] 
> [entities](#entities)                                       

|属性   |内容   |
|---|---|
| 件名           | ポーリングの配置の名前フィールドを返します。                            
| placement\_url | ポーリングの配置を取得するのに使用できる URL は、テンプレートによって完全に表示されます。                       |
| ポーリング          | 配置に関連付けられるポーリング オブジェクトのコレクションが返されます。 [反復タグ](iteration-tags.md)および[配列フィルター](liquid-filters.md#array-filters)がこのコレクションに使用される場合があります。  |  
| random\_url    | 配置からランダムなポーリングを取得するのに使用できる URL は、テンプレートによって完全に表示されます。         |
| submit\_url    | 完了したポーリングへの URL が送信されます。                                                             |

### <a name="poll-attributes"></a>ポーリング属性

> [!Note] 
> [エンティティ](#entities)                                          

|属性   |内容   |
|---|---|
| has\_user\_voted       | 現在のユーザー (サインインしているか、または匿名) がすでにこのポーリングで投票している場合は、true を返します。         |
| Name                   | ポーリングの名前フィールドを返します。                                                              |
| オプション                | ポーリングに関連付けられるポーリング オプション オブジェクトのコレクションを返します。 [反復タグ](iteration-tags.md) と [エンティティ](#entities) がこのコレクションに使用される場合があります。  |  
| poll\_url              | ポーリングを取得するのに使用できる URL は、テンプレートによって完全に表示されます。                       |
| 質問               | ポーリングの質問フィールドを返します。                                                          |
| submit\_button\_label  | ポーリングの送信ボタンのラベルのオーバーライドに使用できる文字列を返します。               |
| submit\_url            | 完了したポーリングへの URL が送信されます。                                                   |
| user\_selected\_option | (これらがすでに投票している場合は) ユーザーが選択した polloption オブジェクトを返します。                  |
| 投票                  | ポーリングのために集計された投票数を返します。                                |

### <a name="poll-option-attributes"></a>ポーリング オプション属性

>[!Note]
> [エンティティ](#entities)                                         

|属性   |内容   |
|---|---|
| 回答     | ポーリングの回答フィールドを返します。 |
| 割合 | オプションのポーリングの投票率を 0 ～ 100 の間の 10 進数で返します。 |
| 投票      | オプションのために集計された投票数を返します。                              |


## <a name="request"></a>要求

現在の HTTP 要求に関する情報が含まれます。

```
{% assign id = request.params['id'] %}

<a href={{ request.url | add_query: 'foo', 1 }}>Link</a>
```

> [!Note]
> URL フィルターを使用して Liquid で URL を動的に作成できます。 

### <a name="attributes"></a>属性

|属性   |内容   |
|---|---|
| パラメーター           | 現在の要求の、名前の付いたパラメーター値です。 パラメーターは URL クエリ文字列パラメーター、フォーム投稿パラメーターおよびクッキーの組み合わせです。  |
| パス             | 現在の要求 URL のパスです。 <br> /プロファイル/|
| path\_and\_query | 現在の要求 URL のパスおよびクエリです。<br> /profile/?foo=1&bar=something|
| クエリ            | 現在の要求 URL のクエリ パーツです。 <br> ?foo=1&bar=something |
| url              | 現在の要求の完全な URL です。<br>  http://www.example.com/profile/?foo=1&bar=something  |


## <a name="searchindex"></a>検索インデックス

検索インデックス オブジェクトは [PowerApps Common Data Service エンティティ タグ](portals-entity-tags.md) 内で使用され、クエリの結果へのアクセスを提供します。  

```
{% searchindex query: 'support', page: params.page, page_size: 10 %}

{% if searchindex.results.size > 0 %}

<p>Found about {{ searchindex.approximate_total_hits }} matches:</p>

<ul>

{% for result in searchindex.results %}

<li>

<h3><a href={{ result.url | escape }}>{{ result.title | escape }}</a></h3>

<p>{{ result.fragment }}</p>

</li>

{% endfor %}

</ul>

{% else %}

<p>Your query returned no results.</p>

{% endif %}

{% endsearchindex %}
```

### <a name="attributes"></a>属性

|属性   |内容   |
|---|---|
| approximate\_total\_hits | インデックスのクエリと一致する合計ヒット数のおよその数を返します。 なお、セキュリティのフィルター処理や他の設計要素に関わる検索インデックス機能の仕組みのために、この数は近似値にすぎず、現在のユーザーが使用できる結果の合計数と正確に一致しない場合があります。  |
| ページ                     | 現在のページ数を返します。                                                                                                                                                                                                           |
| page\_size               | 現在のクエリの最大ページ サイズを返します。 現在のページによって返される結果の実績数を取得する場合は (指定された最大ページ サイズより小さい可能性があるため)、results.size を使用することに注意してください。                                                                                           |
| 結果                  | クエリ結果のページを、検索インデックスの結果オブジェクトとして返します。                                                                                                                                                                                          |

### <a name="search-index-results"></a>検索インデックスの結果

|   属性   |                                                                                                                                                内容                                                                                                                                                 |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    エンティティ     |                                                                                                                            結果に対する基盤となる[エンティティ](#entities)です。                                                                                                                            |
|   フラグメント    | 結果に関する短いテキストのフラグメントであり、&lt;em&gt; HTML タグを使用してハイライトされた特定のクエリと一致する用語が含まれます。 なお、曖昧なクエリ (~) やワイルドカード クエリ (\*) など、特定タイプのクエリはハイライトされたフラグメントをサポートしません。 このプロパティはこれらの場合は null となります。 |
|      ID       |                                                             結果に対する基盤となるレコードの PowerApps エンティティ ID で、文字列で構成されます。 たとえば、936DA01F-9ABD-4d9d-80C7-02AF85C822A8                                                              |
| logical\_name |                                                                           結果に対する基盤となるレコードの PowerApps エンティティ論理名です。 例: adx\_webpage                                                                           |
|    番号     |                                                            1 から始まるすべての結果ページにおける結果の数です。 たとえば、10 件のページ サイズの、結果の 2 ページ目の最初の結果において、この値は 11 となります。                                                             |
|     スコア     |                                                                                                 浮動小数点値としての結果における Lucene スコアです。 この値で並べ替えられた結果が返されます。                                                                                                 |
|     タイトル     |                                                                                                                                          結果のタイトルです。                                                                                                                                          |
|      url      |                                                            結果に対する URL です。 これは通常 &mdash; ですが、&mdash; ではない場合もあり、完全な URL というより、むしろ現在のアプリケーションの絶対パスです。 例: /articles/article1/                                                             |

## <a name="settings"></a>設定

名前別にすべての[サイト設定](../configure-site-settings.md)を読み取ることができます。 指定された名前の設定が見つからない場合は、[null](liquid-types.md#null) が返されます。  

> [!Note]
> 設定は[文字列](liquid-types.md#string)として返されますが、別の種類に変換するために[種類フィルター](liquid-filters.md#type-filters)を使用することができます。

```
{{ settings[My Setting] }}

{% assign search_enabled = settings[Search/Enabled] | boolean %}

{% if search_enabled %}

Search is enabled.

{% endif %}

{% assign pagesize = settings['page size'] | integer | default: 10 %}

{% if pagesize > 10 %}

Page size is greater than 10.

{% endif %}
```

> [!Note]
> [Web サイト ヘッダーとプライマリ ナビゲーション バーの表示](render-site-header-primary-navigation.md)


## <a name="sitemap"></a>サイト マップ

ポータル サイト マップへのアクセスを許可します。

```
<h1>{{ sitemap.root.title }}</h1>

<ul class=breadcrumb>

{% for crumb in sitemap.current.breadcrumbs %}

<li><a href={{ crumb.title }}>{{ crumb.title }}</a></li>

{% endfor %}

<li class=active>{{ sitemap.current.title }}</li>

</ul>

{% for child in sitemap.current.children %}

<a href={{ child.url }}>{{ child.title }}</a>

{% endfor %}

It's also possible to load a site map node by URL path:

{% assign node = sitemap[/content/page1/] %}

{% if node %}

{% for child in node.children %}

<a href={{ child.url }}>{{ child.title }}</a>

{% endfor %}

{% endif %}
```

### <a name="site-map-attributes"></a>サイト マップ属性

|属性   |内容   |
|---|---|
| 現在 | 現在のページのサイト マップ ノード オブジェクトを返します。                    |
| ルート    | Web サイトのルート (ホーム) ページのサイト マップ ノード オブジェクトを返します。 |

### <a name="site-map-node-attributes"></a>サイト マップ ノード属性

|属性   |内容   |
|-------|-------|
| 階層リンク           | サイト マップ ルート ノードから始まり親で終わる、ノードの階層リンク サイト マップ ノード オブジェクトを返します。 |
| 子              | ノードの子サイト マップ ノード オブジェクトを返します。                                                                  |
| 内容           | ノードの説明および概要コンテンツです。 (このフィールドは HTML を含む場合があります)。                                          |
| エンティティ                | 基になるノードの[エンティティ](#entities)を返します。 ノードに基になるエンティティがない場合、その値は null です。                                                         |
| is\_sitemap\_ancestor | サイト マップ ノードが現在のノードの上位の場合 true を返し、それ以外の場合は false を返します。                                                                                                         |
| is\_sitemap\_current  | サイト マップ ノードが現在のノードの場合 true を返し、それ以外の場合は false を返します。                                                                                                         |
| 親                | ノードの親サイト マップ ノードを返します。 ノードがルート ノードの場合、親が null となります。                                                                     |
| 敬称                 | ノードのタイトルです。                                                                                                |
| url                   | ノードの URL です。                                                                                                  |


## <a name="sitemarkers"></a>サイトマーカー

名前別にすべてのサイト マーカーを読み取ることができます。 sitemarker がある場合は、sitemarker オブジェクトが返されます。 指定された名前の sitemarker が見つからない場合は、[null](liquid-types.md#null) が返されます。  

```
{{ sitemarkers[Login].url }}

{% assign my_sitemarker = sitemarkers[My Site Marker] %}

{% if my_sitemarker %}

<a href={{ my_sitemarker.url }}>{{ my_sitemarker.adx_name }}</a>

{% else %}

Site marker My Site Marker does not exist.

{% endif %}
```

> [!Note]
> [Web サイト ヘッダーとプライマリ ナビゲーション バーの表示](render-site-header-primary-navigation.md)  

### <a name="sitemarker-attributes"></a>サイト マーカー属性

|         属性          |                                                                                    内容                                                                                    |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            url             |                                                                         sitemarker ターゲットの URL。                                                                         |
| \[属性論理名\] | 論理名でサイト マーカー ターゲットの PowerApps レコードの属性にアクセスできます。 例: {{ sitemarker.adx\_name }} |

## <a name="snippets"></a>スニペット

名前によってコンテンツ スニペットを読み取ることができます。 指定された名前のスニペットが見つからない場合は、[null](liquid-types.md#null) が返されます。  

```
{{ snippets[Header] }}

{% assign footer = snippets[Footer] %}

{% if footer %}

{{ footer }}

{% else %}

No footer snippet was found.

{% endif %}
```


## <a name="tablerowloop"></a>tablerowloop

[反復タグ](iteration-tags.md) ループ ブロック内で役立つプロパティを含みます。  

> [!Note] 
> tablerowloop は [反復タグ](iteration-tags.md) タグ内のみで使用可能です。

### <a name="attributes"></a>属性

|属性   |内容   |
|---|---|
| カラム        | 1 で始まる、現在の行のインデックスを返します。                                                       |
| col0       | 0 で始まる、現在の行のインデックスを返します。                                                       |
| col\_first | 現在の列が行の最初の列の場合、true を返し、そうでない場合は、false を返します。               |
| col\_last  | 現在の列が行の最後の列の場合、true を返し、そうでない場合は、false を返します。                |
| 先頭      | ループの最初の繰り返しの場合、true を返します。 ループの最初の繰り返しでない場合、false を返します。       |
| インデックス      | 最初のアイテムの場所を 1 としたときの、コレクション内で現在の項目がある位置。                   |
| index0     | 最初のアイテムの場所を 0 としたときの、コレクション内で現在の項目がある位置。                   |
| 最終       | ループの最後の繰り返しの場合、true を返します。 ループの最後の繰り返しでない場合、false を返します。         |
| 長さ     | ループに対して同じ操作を繰り返す数 ߝ コレクション内の繰り返す項目の数を返します。 |
| Rindex     | 最後の項目のインデックスを 1 としたときの、ループ内の残りの項目の数 (長さ - インデックス)。              |
| rindex0    | 最後の項目のインデックスを 0 としたときの、ループ内の残りの項目の数 (長さ - インデックス)。              |



## <a name="user"></a>ユーザー

ポータルの現在のユーザーを参照するもので、基になる PowerApps 担当者レコードのすべての属性にアクセスすることができます。 サインインしているユーザーがいない場合、この変数は [null](liquid-types.md#null) になります。  

ユーザーは[エンティティ](#entity) オブジェクトです。  

```
{% if user %}

Hello, {{ user.fullname }}!

{% else %}

Hello, anonymous user!

{% endif %}
```

### <a name="attributes"></a>属性

[エンティティ](#entity) オブジェクトのすべての属性に加えて、ユーザーには次の属性もあります。


|    属性     |                                                                                                                                                                                     説明                                                                                                                                                                                     |
|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      ロール       |                                                      ユーザーが属するロールを、[配列](liquid-types.md#array)として戻します。<br>`{% if user.roles contains 'Administrators' %} User is an administrator. {% endif %}`<br>**メモ**: また、個々のロールのメンバーシップをテストするために `has_role` フィルターを使用することができます。                                                       |
| basic_badges_url | ユーザーのバッジを取得するサービス URL を戻します。<br>ユーザーのバッジを表示するには、"data-badge" および "data-uri" 属性を持つタグを含める必要があります。 現在のユーザーのバッジを表示する方法:<br>`<div data-badge data-uri='{{user.basic_badges_url }}'></div>`<br>ユーザーのバッジを ID (可変ユーザー ID) で表示する方法:<br>\`<div data-badge data-uri='{{user.basic_badges_url |
|                  |                                                                                                                                                                                                                                                                                                                                                                                     |

## <a name="weblinks"></a>Web リンク

名前または ID で任意の Web リンク を読み取ることができます。  

Web リンク セットが存在する場合、[Web リンク セット オブジェクト](#web-link-set-attributes)が返されます。 指定された名前または ID の Web リンク セットが見つからない場合、[null](liquid-types.md#null) が返されます。


```
<!-- Load web link set by ID -->

{{ weblinks[page.adx_navigation.id].name }}

<!-- Load web link set by name -->

{% assign nav = weblinks[Primary Navigation] %}

{% if nav %}

<h1>{{ nav.title | escape }}</h1>

<ul>

{% for link in nav.weblinks %}

<li>

<a href={{ link.url | escape }} title={{ link.tooltip | escape }}>

{% if link.image %}

<img src={{ link.image.url | escape }} alt={{ link.image.alternate_text | escape }} />

{% endif %}

{{ link.name | escape }}

</a>

</li>

{% endfor %}

</ul>

{% endif %}
```

> [!Note]
> [Web サイト ヘッダーとプライマリ ナビゲーション バーの表示](render-site-header-primary-navigation.md) |  

### <a name="web-link-set-attributes"></a>Web リンク セットの属性

> [!Note]
> Web リンク セットは [エンティティ](#entity) オブジェクトで、以下に示す属性に加え、すべての同じ属性があります。                                         

|         属性          |                                                                                 説明                                                                                  |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            コピー            |                                                                      Web リンク セットの HTML コピー。                                                                      |
|            件名            |                                                                        Web リンク セットの名前。                                                                         |
|           敬称            |                                                                        Web リンク セットのタイトル。                                                                        |
|          Web リンク          |                                                       Web リンク セットに関連付けられている Web リンク オブジェクトの配列。                                                        |
| \[属性論理名\] | 論理名で Web リンク セットの PowerApps レコードの属性にアクセスできます。 例: {{ weblinkset.createdon }} |

### <a name="web-link-attributes"></a>Web リンクの属性

> [!Note]
> Web リンクは [エンティティ](#entity) オブジェクトで、以下に示す属性に加え、すべての同じ属性があります。

|          属性          |                                                                              説明                                                                              |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         説明         |                                                                 Web リンクの HTML の説明。                                                                 |
|    display\_image\_only     |                              Web リンクが、リンク テキストなしで、画像としてのみ表示される必要があるかどうかを示すブール値。                               |
| display\_page\_child\_links |            Web リンクが、リンクされたページの [*サイト マップ*](#sitemap) 子ページへのリンクをサブ リンクとして表示するかどうかを示すブール値属性。             |
|            画像            |                                     このリンクの Web リンクの画像オブジェクト。 画像がない場合、属性は null になります。                                      |
|        is\_external         |                 Web リンクのターゲット URL が (内部のポータル ページではなく) 外部サイトに向いているかどうかを示すブール属性。                  |
|    is\_sitemap\_ancestor    |                                Web リンクの URL 参照が現在のサイト マップ ノードの上位の場合 true を返し、それ以外の場合は false を返します。                                 |
|    is\_sitemap\_current     |                                        Web リンクの URL 参照が現在のサイト マップ ノードの場合 true を返し、それ以外の場合は false を返します。                                        |
|            Name             |                                                                    Web リンクの名前/タイトル。                                                                    |
|          Nofollow           |                                         Web リンクを rel=nofollow としてマークするかどうかを示すブール値属性。                                         |
|    open\_in\_new\_window    |                             リンクを選択したときに新しいブラウザー ウィンドウまたはタブで開くかどうかを示すブール属性。                             |
|           ツールヒント           |                                                                    Web リンクのツールヒントのテキスト。                                                                     |
|             url             |                                                                       Web リンクの URL。                                                                        |
|          Web リンク           |                                                   Web リンクに関連付けられている子の Web リンク オブジェクトの配列。                                                   |
| \[属性論理名\]  | 論理名で Web リンク PowerApps レコードの属性にアクセスできます。 例: {{ weblink.createdon }} |

### <a name="web-link-image-attributes"></a>Web リンク画像の属性

| alternate\_text | 画像の代替テキスト。                                                                                       |
|-----------------|---------------------------------------------------------------------------------------------------------------------|
| 高さ          | 画像に指定された高さを示す整数。 高さの値が指定されていない場合、この属性は null になります。 |
| url             | 画像の URL。                                                                                               |
| 幅           | 画像に指定された幅を示す整数。 幅の値が指定されていない場合、この属性は null になります。   |


## <a name="website"></a>Web サイト

ポータルの Web サイトを参照するもので、ポータルの PowerApps Web サイト (adx\_website) レコードのすべての属性にアクセスすることができます。  

> [!Note]
> Web サイトは[エンティティ](#entity) オブジェクトで、すべての同じ属性があります。

**コード**

```
{{ website.adx_name }} ({{ website.id }})
```

**Output**

```
Community Portal (936DA01F-9ABD-4d9d-80C7-02AF85C822A8)
```


### <a name="see-also"></a>関連項目

[Liquid の種類](liquid-types.md)  
[Liquid タグ](liquid-tags.md)  
[Liquid フィルター](liquid-filters.md)  
