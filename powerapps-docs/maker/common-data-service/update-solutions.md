---
title: ソリューションの更新 | MicrosoftDocs
description: Power Apps でのソリューションの更新またはアップグレード方法について説明します
ms.custom: ''
ms.date: 03/18/2020
ms.reviewer: ''
ms.service: powerapps
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
author: Mattp123
ms.assetid: ''
ms.author: matp
manager: kvivek
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: 0bebbc9eeead8fb4f02c4bf958c33b79c0d9cc1c
ms.sourcegitcommit: 48414442a10210d49911c3eda8b49f68db85f684
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/19/2020
ms.locfileid: "3151179"
---
# <a name="upgrade-or-update-a-solution"></a>ソリューションのアップグレードまたは更新  
既存の管理ソリューションを更新する必要がある場合があります。 ソリューションを更新するには、次の手順に従います: 

1.  開発環境でアンマネージド ソリューションを開き、新しいものを作成するか、必要な既存のコンポーネントを追加および削除します。 
2.  ソリューションを管理ソリューションとしてエクスポートする場合は、バージョン番号を大きくします。 詳細: [更新のバージョン番号について](#understanding-version-numbers-for-updates) 

    > [!div class="mx-imgBorder"] 
    > ![ソリューション バージョンを更新する](media/update-solution-version.png)
3. [ターゲット環境にアップグレードまたは更新を適用する](#apply-the-upgrade-or-update-in-the-target-environment)

## <a name="apply-the-upgrade-or-update-in-the-target-environment"></a>ターゲット環境にアップグレードまたは更新を適用する
更新済ソリューションをインポートする手順は、いくつか異なるオプションが取得されることを除けば、新しい管理ソリューションをインストールする場合と同じです。 他から取得したソリューションを更新している場合は、どのオプションを選択する必要があるかについてソリューション発行者からのガイダンスが必要です。  

1. [Power Apps](https://make.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc) にサインインし、必要なターゲット環境を選択して、左側のナビゲーションから **ソリューション** を選択します。  

2. コマンド バーで **インポート** を選択します。  

3. **ソリューション パッケージの選択** ページで、**参照** を選択し、更新するソリューションが含まれている圧縮 (.zip または .cab) ファイルを検索します。  

4. **次へ**を選択します。  

5. **次へ**を選択する前に、ソリューションについての情報を表示できます。 このページには、**このソリューション パッケージには、インストール済のソリューションの更新が含まれています**という黄色バーが表示されます。  

6. 次のソリューション アクション オプションから選択します。  
   - **アップグレード (推奨)** このオプションでは、ソリューションが最新バージョンにアップグレードされ、すべての古いパッチが1つの手順でロールアップされます。  古いソリューションのバージョンに関連付けられているコンポーネントのうち、新しいソリューションのバージョンに含まれていないコンポーネントは削除されます。 これを選択すると、インポートしたソリューションに含まれなくなったコンポーネントの削除がされ、最終的な構成状態とインポートしたソリューションとの整合性が保証されるため、このオプションを選択することを推奨します。
        
   - **アップグレードステージ** このオプションを選択するとソリューションが最新のバージョンにアップグレードされます。しかし、ソリューションのアップグレードを適用するまでは、以前のバージョンおよび関連する修正プログラムの削除が保留されます。  このオプションは、古いソリューションと新しいソリューションの両方を同時にシステムにインストールする場合にのみ選択します。これにより、ソリューションのアップグレードを完了する前にデータを移行することができます。 これにより、古いソリューションと新しいソリューションに含まれていないコンポーネントが削除されます。
        
   - **更新 (非推奨)** このオプションを選択すると、既存のソリューションを上書きします。  新しいソリューションに含まれていないコンポーネントは削除されず、システムに残ります。  このオプションでは、適用先の環境と適用元の環境との構成が異なることになるため、再現や診断が困難な問題が発生する可能性があります。そのため推奨しません。
        
7. 次のカスタマイズ オプションを設定します。

   - **カスタマイズを維持 (推奨)**  

        このオプションを選択すると、コンポーネント上で実行されたアンマネージドなカスタマイズが維持されますが、このソリューションに含まれる更新プログラムの一部が適用されない可能性があります。  

   - **カスタマイズの上書き (非推奨)**  

        このオプションを選択すると、このソリューションに含まれるコンポーネントに対してこれまでに実行されたアンマネージド ソリューションがすべて上書き、または削除されます。 このオプションは、マージに対応しているコンポーネントには影響しません (フォーム、サイトマップ、リボン、アプリ、アプリモジュール)。  置き換えをする既存のソリューションに、その他の優位性を持つ管理ソリューションを持つコンポーネントがある場合は、このソリューションはこのオプションの影響を受けません。  

8. インポート アクション後に以下のオプションを有効にするかどうかを決定します。
   - **ソリューションに含まれているすべての SDK メッセージの処理手順を有効にします。**  
        このオプションを選択すると、ソリューションに含まれるプラグインとワークフローが有効になります。
        
9. **次へ**を選択します。  

10. ソリューションのインポートが完了するまで、数分待つ必要がある場合があります。 正常に完了した場合、結果を確認し、**閉じる** を選択できます。  

   公開が必要な変更をインポートした場合、それらを使用可能にする前に、カスタマイズを公開する必要があります。 

**ソリューションのアップグレードを完了する** アップグレードのステージングを選択した場合、またはシステムでアップグレード完了時に問題が発生した場合は、元のソリューションがまだシステムにインストールされていることと、基本ソリューションと同じソリューション名に \_ Upgradeが付加された新しいソリューションがあることが確認できます。  アップグレードを完了するには、ソリューションの一覧から基本のソリューションを選択し、 **ソリューションのアップグレードを適用する** を選択します。  これによって、すべての古いパッチと基本ソリューションをアンインストールし、\_アップグレード ソリューションを古い基本ソリューションと同じ名前に変更します。  元のソリューションに含まれていたコンポーネントと \_アップグレード ソリューションに含まれていないパッチは、この処理の一環として削除されます。

## <a name="understanding-version-numbers-for-updates"></a>更新のバージョン番号について
ソリューションのバージョンの形式は major.minor.build.revision です。 更新には、上位のソリューションよりも大きいメジャー、マイナー、ビルド、またはリビジョン番号が必要です。 たとえば、基本ソリューションのバージョンが 3.1.5.7 の場合、小規模な更新はバージョン 3.1.5.8 になり、もう少し重要な更新はバージョン 3.1.7.0 になります。 さらに重要な更新は、バージョン 3.2.0.0 です。


### <a name="see-also"></a>関連項目
[ソリューション コンポーネントの追加](create-solution.md#add-solution-components) <br />
[エクスポート ソリューション](export-solutions.md) <br />
[ソリューションのインポート](import-update-export-solutions.md)