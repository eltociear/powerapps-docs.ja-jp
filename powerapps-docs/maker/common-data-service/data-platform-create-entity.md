---
title: ユーザー定義エンティティの作成 | Microsoft Docs
description: Power Apps でユーザー定義のエンティティを作成する方法について説明します。
author: Mattp123
ms.service: powerapps
ms.component: cds
ms.topic: quickstart
ms.date: 06/05/2020
ms.author: matp
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: a32791bb89a616e7ff57571d4dfe02d36aa9c1af
ms.sourcegitcommit: 6f904789d817248eac0a4c9dd0c5fe37dfbb77ad
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/06/2020
ms.locfileid: "3434439"
---
# <a name="create-a-custom-entity"></a>ユーザー定義エンティティの作成
Power Apps では、 *エンティティ* は、通常は会社名、所在地、製品、電子メール、電話などのプロパティを含むレコード形式で追跡する情報を定義します。 次に、エンティティを参照するアプリを開発して、そのデータを表示できます。 Power Apps は、組織内の一般的なシナリオ(アポイントメントの追跡など)をカバーする標準の「すぐに使える」エンティティが用意されていますが、組織固有のデータを格納するためにカスタムエンティティを作成する必要が生じる場合があります。

## <a name="prerequisites"></a>前提条件
このエンティティを作成するには、 Common Data Service 内のシステム管理者、またはシステム カスタマイザーのいずれかのセキュリティ ロールが必要です。

## <a name="sign-in-to-power-apps"></a>Power Apps にサインインする
[https://make.powerapps.com](https://make.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc) で Power Apps にサインインする

## <a name="create-an-entity"></a>エンティティの作成
1. ナビゲーション ウィンドウで、**データ**を展開し、**エンティティ**を選択します。

2. コマンド バーで、**新規エンティティ**を選択します。

    エンティティを作成する前に、使用可能な標準エンティティの説明を [エンティティ参照](../../developer/common-data-service/reference/about-entity-reference.md) で確認します。 これらのエンティティは一般的なシナリオをカバーします。 これらのエンティティのいずれかがそのままの状態または小規模な変更後、要件を満たす場合、そのエンティティから始めることで時間を節約できます。 

3. **新規エンティティ** パネルの、以下の情報フィールドに入力します。 必須フィールドには、フィールド ラベルの横にアスタリスク (*) が付いています。 
    > [!div class="mx-imgBorder"] 
    > ![新しいエンティティの作成](media/data-platform-cds-create-entity/newentitypanel.png)
    
    |セクション​​  |フィールド  |内容  |
    |---------|---------|---------|
    |必須フィールド   | **表示名 ***      | これは、アプリに表示されるエンティティの単数形の名前です。 これは後で変更できます。     |
    |必須フィールド      |  **表示名の複数形 ***        | これは、アプリに表示されるエンティティの複数形の名前です。 これは後で変更できます。      |
    |必須フィールド      | **名前 ***    |  このフィールドは、入力した**表示名**に基づいて事前入力されます。 これには、 Common Data Service ソリューション発行者のカスタマイズ接頭辞が含まれます。 エンティティが保存されたら、これを変更できません。 <br /> <br /> [Dynamics 365 for Customer Service の埋め込み型ナレッジ検索](/dynamics365/customer-engagement/customer-service/set-up-knowledge-management-embedded-knowledge-search)にてエンティティ名称を使用するには、パブリッシャの接頭辞を含むエンティティ名の最大長は24文字以内に収める必要があります。         |
    |必須フィールド     |  **表示名 *** (プライマリ フィールド)     | 既定では、すべてのエンティティには プライマリ フィールドが含まれており、これは他のエンティティとの関係を確立する際の検索処理に使用されます。 通常プライマリフィールドには、エンティティに格納されているデータの名称または主要な説明が格納されています。 エンティティを最初に保存する前に、プライマリフィールドの名称と表示名称を変更することが可能です。 また、プライマリフィールドにも固有の **名称** ボックスがあり、上記のエンティティ名称と同様に機能します。 プライマリフィールドの名称は表示名称が入力された際に、エンティティを同じ接頭辞を使用して自動入力され、エンティティの作成が完了後には変更ができません。      |
    |**説明**     | **説明**      | **その他の設定** > **説明** を展開します。  必要に応じて、エンティティの説明を入力できます。 他のユーザーがこのエンティティを使用する場合に、この説明が参考になります。     |
    |**エンティティの種類と所有権**   |  **エンティティ タイプの選択**    | エンティティ タイプを **活動エンティティ** に切り替えて、タスク管理をするエンティティを作成します。      |
    |**エンティティの種類と所有権**   |  **企業形態**     | 所有権の種類によって、レコードを操作できるユーザーが決定されます。 **ユーザーまたはチーム** の所有権により、エンティティのレコードに取引先企業や連絡先などの顧客に関連するデータを含めることができます。 ユーザーまたはチームの部署に応じてセキュリティを定義できます。  **組織** の所有権のエンティティのレコードは、組織全体に属している、または組織全体で参照可能な事項に関連するデータを含んでいます。 *組織所有のエンティティ レコードは、割り当てや共有ができません。*      |
    |**共同作業**     |  **フィードバックを可能とする**     |  顧客がエンティティ レコードに関するフィードバックを記述したり、定義された評価の範囲内でエンティティ レコードを評価したりできるようにします。 この設定を有効化すると、無効化できなくなります。 詳細情報: [エンティティのフィードバック/評価を構成する](configure-entity-feedback.md)    |
    |**共同作業**     | **活動の有効化**    | このエンティティのレコードに活動を関連付けます。  この設定を有効化すると、無効化できなくなります。      |
    |**共同作業**     | **接続の有効化**    | 接続機能を使用して、このエンティティのレコードが、接続が有効な他のエンティティのレコードにどのように接続されているかを示します。 この設定を有効化すると、無効化できなくなります。    |
    |**共同作業**     |  **エンティティに電子メールを送信する**     | このエンティティのフィールドの 1 つに保存されている電子メール アドレスを使用して、電子メールを送信します。 このエンティティにフォーマットを、電子メールに設定した**単一行**の**テキスト フィールドが**がまだ存在しない場合は、電子メールの送信を有効化すると新たなフィールドが作成されます。 この設定を有効化すると、無効化できなくなります。   |
    |**共同作業**     | **差し込み印刷の対応**   | すべてのユーザーが、このエンティティで差し込み印刷を使用できます。     |
    |**共同作業**     | **SharePoint ドキュメント管理を有効化すす**  |  組織のドキュメント管理を有効にするための他のタスクが完了した後、この機能を有効にすることによって、このエンティティを SharePoint との統合に関与させることができます。       |
    |**共同作業**     | **アクセスチームの自動作成**     |  このエンティティのチーム テンプレートを作成します。      |
    |**共同作業**     |  **キューの有効化**       | エンティティをキューと共に使用します。 キューの役割は、エンティティのレコードを誰でもアクセスできる場所で使用できるようにすることで、作業のルーティングと共有を改善することです。 この設定を有効化すると、無効化できなくなります。      |
    |**設定の作成と更新**     | **フォームの簡易作成を有効化する**     | このエンティティの簡易作成フォームを作成して公開すると、ナビゲーション ウィンドウの**作成** ボタンを使用して新しいレコードを作成するオプションを使用できます。 <br /> <br />これがユーザー定義の活動エンティティに対して有効化されると、ナビゲーション ウィンドウの**作成**ボタンを使用した際に、ユーザー定義の活動が活動エンティティのグループに表示されます。 ただし、活動は簡易作成フォームに対応していないため、カスタム エンティティ アイコンを選択した場合は、メイン フォームが使用されます。      |
    |**設定の作成と更新**     | **重複データ検出**     | これを有効化すると、このエンティティの重複データ検出ルールを作成できます。     |
    |**設定の作成と更新**     |  **変更追跡を有効にする**     | データが最初に抽出されてから、または最後に同期されてからどのデータが変更されたかを検出することによって、効率の良いデータ同期を可能にします。     |  
    | **Dynamics 365 for Outlook**  | **オフライン機能の有効化**  | Dynamics 365 for Outlook アプリケーションがネットワークに接続していない間、このエンティティ レコードのデータを利用可能とします。  |

4. **作成** を選択します。
     
エンティティの詳細ページでは、エンティティがバックグラウンドでプロビジョニングされていることが確認できます。 プロビジョニングが完了すると、エンティティが保存されご利用のアプリケーションにて利用可能となります。 プロビジョニングの途中であってもフィールド、関係、キーはエンティティに追加することが可能ですが、ビュー、フォーム、チャート、ダッシュボード、ビジネス ルールはプロビジョニングが完了するまで追加ができません。

## <a name="next-steps"></a>次の手順
このトピックでは、ユーザー定義の関数を作成する方法について説明しました。 続いて、エンティティ間の関連性を定義する方法を説明します。

> [!div class="nextstepaction"]
> [関連付けの作成](data-platform-entity-lookup.md)

## <a name="privacy-notice"></a>プライバシーに関する声明
Microsoft Power Apps の Common Data モデルを使用することで、Microsoft はカスタム エンティティとフィールド名称を収集し、診断システムに保管します。 この情報を使って、お客様の共通データ モデルを改善します。 アプリケーション作成者が作成するエンティティ名称とフィールド名称は、 Microsoft Power Apps コミュニティに通底するシナリオの理解に役立ち、組織に関連するスキーマなど、サービスの標準的なエンティティ カバレッジのギャップを確認する際に役立てられます。 これらのエンティティに関連付けられたデータベース テーブル内のデータは、Microsoft によりアクセスまたは使用されず、データベースがプロビジョニングされた地域の外部にレプリケーションされません。 しかし、カスタム エンティティおよびフィールド名は、地域間でレプリケーションされ、データ保持ポリシーに基づいて削除される可能性がある点に注意してください。 マイクロソフトは、[セキュリティ センター](https://www.microsoft.com/trustcenter/Privacy/default.aspx) で詳しく説明されているとおりにプライバシー保護に努めています。
