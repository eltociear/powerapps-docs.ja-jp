---
title: キャンバス アプリ用コンポーネント ライブラリの作成 | Microsoft Docs
description: キャンバス アプリ用の再利用可能なコンポーネントのライブラリ
author: yifwang
ms.service: powerapps
ms.topic: article
ms.date: 04/24/2020
ms.author: yifwang
ms.reviewer: tapanm
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: f2277f0617cb9ff7e2107b329e68712b58e001a0
ms.sourcegitcommit: e3fc14acfc123642aac7154f96a07edd766f7810
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/19/2020
ms.locfileid: "3384683"
---
# <a name="component-library"></a>コンポーネント ライブラリ

> [!IMPORTANT]
> この機能は、まだパブリック プレビューにあります。 詳細については [実験的機能とプレビュー機能](working-with-experimental.md) を参照してください。

コンポーネントを作成するための[概要](create-component.md) 記事の中には、キャンバス アプリ内のコンポーネントが紹介されています。 アプリ内にコンポーネントを作成すると、再利用できるコンポーネントのライブラリを作成することもできます。 コンポーネント ライブラリを作成することで、アプリ メーカーは 1 つ以上のコンポーネントを他のメーカーと簡単に共有および更新できます。

コンポーネント ライブラリは、容易にするコンポーネント定義のコンテナです:

- コンポーネントを検出および検索します。
- 更新を公開します。
- 使用可能なコンポーネントの更新をアプリ メーカーに通知します。 

> [!NOTE]
> コンポーネント ライブラリは、アプリ間でコンポーネントを再利用するための推奨されている方法です。 コンポーネント ライブラリを使用すると、アプリは使用するコンポーネントへの依存関係を保持します。 依存コンポーネントの更新が利用可能になると、アプリメーカーに通知されます。 したがって、新しい再利用可能なコンポーネントはすべて、その代わりにコンポーネント ライブラリ内で作成する必要があります。 [あるキャンバス アプリから別のキャンバス アプリにコンポーネントをインポートする](create-component.md?#import-and-export-components) ことが許可された以前の Power Apps 機能は廃止される予定です。

## <a name="difference-between-an-app-and-a-component-library"></a>アプリとコンポーネント ライブラリの違い

コンポーネント ライブラリは、再利用可能なコンポーネントの集中管理されたリポジトリを提供します。 

左側のナビゲーション ウィンドウの**挿入**は、コンポーネント ライブラリを作成すると、既定でコンポーネント タブになります。 アプリを作成すると、このビューにはコンポーネントではなくスクリーンが表示されます。 

コンポーネント ライブラリ内のスクリーンは、テストのみに使用可能です。 ライブラリの作成者に、作成されたコンポーネントを実際のスクリーンですばやくテストし、コンポーネントが時間経過とともに強化されていくにつれて、更新動作を検証する方法を提供します。 コンポーネント ライブラリからコンポーネントを使用するには、コンポーネント ライブラリを使用するアプリを作成する必要があります。

ライブラリ内のスクリーンを再生オプションで使用して、コンポーネント ライブラリ コンポーネントをプレビューできます。 コンポーネント タブを選択すると、再生オプションが無効にされます。 Power Apps Mobile の使用時には、コンポーネント ライブラリは表示されません。

> [!NOTE]
> この記事で説明するコンポーネント ライブラリは、開発者およびメーカーがモデル駆動型アプリおよびキャンバス アプリ用のコード コンポーネントを作成できるようにする Power Apps component framework とは異なります。 詳細については、[Power Apps component framework の概要](https://docs.microsoft.com/powerapps/developer/component-framework/overview)。

## <a name="working-with-component-library"></a>コンポーネント ライブラリの操作

同じインターフェースから、新しいコンポーネント ライブラリを作成または既存のコンポーネント ライブラリを編集できます。 [make.powerapps.com](https://make.powerapps.com) を参照し、**アプリ**を選択し、次に選択**コンポーネント ライブラリ**を選択します:

![コンポーネント ライブラリを作成または編集する](./media/component-library/create-edit-component-library.png "コンポーネント ライブラリを作成または編集する")

## <a name="create-an-example-component-library"></a>コンポーネント ライブラリの例の作成

コンポーネント ライブラリ内にコンポーネントを作成する手順は、アプリ内にコンポーネントを作成する場合と同じです。 コンポーネント ライブラリを作成してから、[コンポーネント概要の例](create-component.md#create-an-example-component) からコンポーネントを作成する手順を再利用します。 次に、新しいアプリで再利用可能なコンポーネントを提供するため、コンポーネント ライブラリを使用します。

1. [make.powerapps.com](https://make.powerapps.com) へサインインします。

1. 左側のナビゲーションで**アプリ**を選択し、**コンポーネント ライブラリ**を選択し、**新しいコンポーネント ライブラリ**を選択します。

1. コンポーネント ライブラリに*メニュー コンポーネント*という名前をつけます; 別の希望する名前を付けることもできます。

1. [コンポーネント概要の例](create-component.md#create-an-example-component) から手順に従ってコンポーネントを作成します。 新しいコンポーネント ライブラリを既に作成しているため、Power Apps Studio を開いたり、新しい空のアプリを作成する必要はありません。 ステップ 2 から開始します。 

    手順に従ってコンポーネントを作成したら、次の一連の手順に従って、[スクリーンにコンポーネントを追加](create-component.md#add-component-to-a-screen) および[出力プロパティを作成](create-component.md#create-and-use-output-property) します。 

1. コンポーネントの作成とテストを完了した後、**ファイル** メニューを選択してコンポーネント ライブラリを保存し、**保存**を選択します。 

    **バージョン ノート**を保存するオプションもあります。 バージョンノートは、コンポーネント ライブラリのバージョンを取得し、このコンポーネント ライブラリからアプリで使用されるコンポーネントをアップグレードするのに役立ちます。

    ![コンポーネント ライブラリ保存時のバージョン ノート](./media/component-library/save-component-libray-version-note.png "コンポーネント ライブラリ保存時のバージョン ノート")

    > [!TIP]
    > バージョンノートは、コンポーネント ライブラリのバージョンを確認する場合、およびコンポーネント ライブラリを使用するアプリ メーカーが変更を確認し、必要に応じてこれらのコンポーネントを使用するアプリを更新する場合に役立ちます。 詳細については、[コンポーネント ライブラリを更新](component-library.md?#update-a-component-library) に移動します。   

1. 保存したコンポーネント ライブラリを公開できます。 コンポーネント ライブラリを使用するアプリでは、公開されたコンポーネント ライブラリの更新のみ使用可能です。 コンポーネントライブラリのバージョンを公開するには、**公開する**を選択します:

    ![コンポーネント ライブラリ バージョンの公開](./media/component-library/publish-component-library.png "コンポーネント ライブラリ バージョンの公開")

## <a name="import-from-a-component-library"></a>コンポーネント ライブラリからインポートする

コンポーネント ライブラリを作成して公開した後、アプリはライブラリをインポートすることにより、このコンポーネント ライブラリからコンポーネントを使用できます。 [コンポーネント ライブラリを共有](component-library.md#component-library-permissions) することもできます。

コンポーネント ライブラリからインポートするには、既存のアプリを編集するか、新しいアプリを作成します。 キャンバス アプリ スタジオでアプリが開いたら、**挿入**または左側のナビゲーション **+** を選択します。 次に、現在の環境で使用可能なコンポーネント ライブラリを一覧表示するには、**さらにコンポーネントを取得**を選択します:

![さらにコンポーネントを取得](./media/component-library/get-more-components.png "さらにコンポーネントを取得")

スクリーンの右側に、現在の環境で使用可能なコンポーネント ライブラリの一覧が表示されます。 コンポーネント ライブラリから個々のコンポーネントを選択します。 または、一度にライブラリからすべてのコンポーネントをインポートするには、**すべて選択**を使用します:

![コンポーネントをインポート](./media/component-library/components.png "コンポーネントをインポート")

> [!NOTE]
> メーカーが、インポート セクションでリストされているコンポーネント ライブラリを表示しない場合は、コンポーネント ライブラリがメーカーと共有されていることを確認してください。 詳細については、[コンポーネント ライブラリのアクセス許可](component-library.md#component-library-permissions) に移動します。 

複数のコンポーネントを選択し、異なるコンポーネント ライブラリからインポートできることに注意してください。 

アプリ内で使用可能なコンポーネントは、**挿入**ウィンドウ内のコンポーネント リストの**カスタム** カテゴリの下に一覧表示されます。 インポートされたコンポーネント ライブラリから使用可能なコンポーネントは、**ライブラリ コンポーネント** カテゴリーの下に一覧表示されます:

![アプリにコンポーネントを挿入する](./media/component-library/insert-components.png "アプリにコンポーネントを挿入する")

## <a name="update-a-component-library"></a>コンポーネント ライブラリを更新する

既存のコンポーネント ライブラリを修正し、追加のバージョン ノートで変更を保存します。 ただし、コンポーネント ライブラリを使用する既存のアプリで使用するには、更新されたコンポーネント ライブラリのバージョンを公開する必要があります。 [コンポーネント ライブラリの例](component-library.md#create-an-example-component-library) の上記の手順は、コンポーネント ライブラリを保存した後に公開する方法について説明しました。

他のアプリのメーカーには、使用可能な更新されたコンポーネントが通知されます。 メーカーがキャンバス アプリ スタジオでアプリを編集すると、通知が表示されます。 コンポーネントの更新を選択できます。

![使用可能な更新プログラム](./media/component-library/update-available.png "使用可能な更新プログラム")

**レビュー**を選択し、コンポーネントを更新するオプションが表示されます:

![コンポーネントの更新](./media/component-library/update-components.png "コンポーネントの更新")

コンポーネント ライブラリのバージョンを公開するときに追加したバージョン ノートがここに表示されるはずです。 

**更新**を選択してコンポーネントを更新します。

## <a name="component-library-permissions"></a>コンポーネント ライブラリのアクセス許可

コンポーネント ライブラリの共有は、キャンバス アプリの共有と同じように機能します。 コンポーネント ライブラリを共有すると、他のユーザーがコンポーネント ライブラリを再利用するのを許可します。 共有されると、他のユーザーはコンポーネント ライブラリを編集し、アプリを作成および編集するために、この共有コンポーネント ライブラリからコンポーネントをインポートしてします。 共同所有者として共有されている場合、ユーザーはコンポーネント ライブラリを使用、編集、および共有できますが、所有者を削除または変更することはできません。

## <a name="known-limitations"></a>既知の制限

- コンポーネントに適用可能な[既知の制限](create-component.md#known-limitations) は、コンポーネント ライブラリにも適用されます。
- ローカルに保存されたコンポーネント ライブラリ ファイルからコンポーネント ライブラリを使用してコンポーネントをインポートすることはできません。 **ファイル** > **ファイル名を付けて保存** > **このコンピューター**を使用して、ローカルに保存されたコンポーネント ライブラリをインポートし、アプリとしてコンポーネント ライブラリ アプリをダウンロードしようとする場合、次のエラー メッセージが表示されます: 

    ![コンポーネント ライブラリ ファイルをインポートする](./media/component-library/import-component-library-file.png "コンポーネント ライブラリ ファイルをインポートする")

- 既存のコンポーネント ライブラリを[解決](add-app-solution.md) に追加することはできません。 ただし、コンポーネント ライブラリ フローの追加を使用して、ソリューションの新しいコンポーネント ライブラリを作成できます。

- コンポーネント ライブラリからコンポーネントをインポートする場合、使用中のアプリ内で編集することはできません。 **コンポーネントを編集**を選択した場合、変更するために、現在のアプリ内にコンポーネントのコピーを作成するオプションが表示されます。 

    ![ライブラリ コンポーネントを編集](./media/component-library/edit-library-component.png "ライブラリ コンポーネントを編集")

    **コピーを作成**を選択した場合、コンポーネントがローカル アプリにコピーされます。 コンポーネントのローカル コピーは、**挿入**ウィンドウの**カスタム** カテゴリの下に表示されます。 コンポーネントのこのローカル コピーは、元のコンポーネント ライブラリの新しいバージョンが後で公開された場合、更新を受け取りません。
    
- コンポーネントがコンポーネント ライブラリからアプリに追加され、アプリのテーマが更新されると、コンポーネントはローカル アプリ コンポーネントになり、コンポーネント ライブラリのマスター コンポーネントに関連付けられなくなります。

## <a name="next-steps"></a>次の手順

キャンバスアプリ用の[動作の数式](component-behavior.md) の学習。

### <a name="see-also"></a>関連項目

キャンバス アプリ [コンポーネントの概要](create-component.md) およびアプリのコンポーネントを操作します。
