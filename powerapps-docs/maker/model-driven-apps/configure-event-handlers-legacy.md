---
title: Power Apps にてモデル駆動型アプリのメイン フォームのイベント ハンドラーを構成する | MicrosoftDocs
description: イベント ハンドラーを構成する方法
author: Mattp123
ms.author: matp
manager: kvivek
ms.date: 06/27/2018
ms.service: powerapps
ms.topic: article
ms.assetid: dc0ebb3f-0c00-413a-968f-9cfd107055c0
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: 385255d46ad358a8b33385e9e1495bd310cb1cb4
ms.sourcegitcommit: dd2a8a0362a8e1b64a1dac7b9f98d43da8d0bd87
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/02/2019
ms.locfileid: "2863645"
---
# <a name="configure-model-driven-app-form-event-handlers"></a>モデル駆動型アプリのフォーム イベント ハンドラーの構成

 Power Apps のフォームのフォーム イベント ハンドラーを、フォームの次の領域に対して構成できます。  
  
|Element|イベント|説明|  
|-------------|-----------|-----------------|  
|[フォーム]|`OnLoad`|フォームが読み込まれると発生します。|  
||`OnSave`|データの保存時に発生します。|  
|タブ|`TabStateChange`|タブが展開または閉じられたときに発生します。|  
|フィールド|`OnChange`|フィールドのデータが変更され、コントロールがフォーカスを失うと発生します。|  
|[IFRAME]|`OnReadyStateComplete`|IFRAME のコンテンツの読み込み時に発生します。|  
  
 イベント ハンドラーは、JavaScript Web リソースに対する参照と、イベントが発生したときに実行されるその Web リソース内で定義された関数から構成されます。 各要素には、構成された最大 50 個のイベント ハンドラーを指定できます。  
  
> [!IMPORTANT]
>  イベント ハンドラーの構成が不適切だと、スクリプト エラーが発生し、フォームが正しく読み込んだり機能しなくなります。 スクリプトの開発者でないなら、そのスクリプトに必要な構成オプションが何であるかを完全に理解してください。  
>   
>  信頼できるソースからでないライブラリを使用して、スクリプト イベント ハンドラーを構成しないでください。 スクリプトを使用すると、ユーザーが実行するどのようなアクションでも実行できるため、不完全に書かれたスクリプトはフォームのパフォーマンスを著しく損なうことがあります。  
>   
>  イベント ハンドラーを構成したら、必ず正常に機能することを確認してください。  
  
### <a name="to-configure-an-event-handler"></a>イベント ハンドラーを構成するには 
  
1.  フォーム エディターで、ハンドラーを構成しようとするイベントのある要素を選択します。  
  
2.  [[ホーム] タブ](form-editor-user-interface-legacy.md#home-tab) の**編集**グループで、**プロパティの変更**をクリックするかまたは要素を単にダブルクリックします。  
  
3.  [要素のプロパティ] ダイアログで、**要素**タブを選択します。  
  
4.  **フォーム ライブラリ**領域を展開します。 イベント ハンドラーとして設定する関数を含むライブラリがまだリストされていない場合、そのライブラリを追加します。  
  
5.  イベント ハンドラーにフォーム ライブラリを追加するには以下の内容を実行します。  
    1.  **イベント リスト**の**フォーム ライブラリ**セクションで、**追加**を選択します。  
  
    2.  使用できる Web リソースの一覧で、JavaScript Web リソースを検索します。 それを選択してから、**追加**​​ を選択します。  
  
         必要な JavaScript Web リソースが存在しない場合、**新規**を選択して、新しい Web リソース フォームを開いて作成します。  
  
    3.  JavaScript Web リソースを作成するには以下の内容を実行します。  
        1.  Web リソース フォームで、以下のプロパティを設定します。  
  
            |プロパティ|値|  
            |--------------|-----------|  
            |名前|**必須**。 Web リソースの名前を入力します。|  
            |[表示名]|**必須**。 Web リソースの一覧に表示される名前を入力します。|  
            |説明|任意。 Web リソースの説明を入力します。|  
            |種類|**必須**。 **スクリプト (JScript)** を選択します。|  
            |言語|任意。 組織で利用できる言語の 1 つを選択します。|  
  
        2.  スクリプトが提供されている場合、**参照**ボタンを使用して、ファイルを検索し、アップロードすることをお勧めします。  
  
             また、**テキスト エディター**ボタンを選択して、**コンテンツの編集**ダイアログにスクリプトの内容を貼り付るかまたは入力できます。  
  
            > [!NOTE]
            >  この簡易テキスト エディターには、スクリプトの正当性をチェックする機能がないため、一般に Visual Studio などの別のアプリケーションを使用して、スクリプトの編者およびアップロードを行う必要があります。  
  
        3.  **保存**を選択して、[Web リソース] ダイアログを閉じます。  
  
        4.  **レコードの検索**ダイアログで、作成した新しい Web リソースが選択されます。 **追加**を選択して、ダイアログを閉じます。  
6.  **イベント ハンドラー**セクションで、イベント ハンドラーを設定するイベントを選択します。  
  
7.  **追加**を選択して、**ハンドラーのプロパティ**ダイアログを開きます。  
  
8. **詳細**タブで、適切なライブラリを選び、イベントに対して実行される関数名を入力します。  
  
9. 既定では、イベント ハンドラーは有効です。 このイベントを有効にしたくない場合は**有効**チェック ボックスをオフにします。  
  
     いくつかの関数には、関数に渡されるための実行コンテキストが必要です。 これが必要な場合、**実行コンテキストを最初のパラメーターとして渡す**を選択します。  
  
     いくつかの関数は、関数の動作を制御する一連パラメーターを許可します。 これからが必要な場合、**関数に渡されるパラメーターのコンマ区切り一覧**に入力します。  
  
10. **相互関係**タブで、スクリプトが依存するフィールドを**依存フィールド**領域に追加します。  
  
11. **OK** をクリックして**ハンドラーのプロパティ**ダイアログを閉じます。  
  
12. イベント ハンドラーが入力されるとき、他の関数との間で実行される関数の順序を調整する場合は、緑色の矢印を使用して関数を上下に移動します。  
  
13. **OK** を選択して、[要素のプロパティ] ダイアログを閉じます。  
  
14. **保存**を選択して変更を保存します。 フォームを公開するには、**公開**を選択します。  
  
> [!NOTE]
>  ユーザー インターフェイス (UI) により、緑色の上矢印と下矢印を使用してスクリプトの読み込みの順序を調整できますが、スクリプトは実際には順次に読み込まれません。   

## <a name="next-steps"></a>次のステップ

[メイン フォームとそのコンポーネントの使用](use-main-form-and-components.md)
