---
title: Power Apps で編集可能グリッド ユーザー定義コントロールを使用することで、モデル駆動型アプリのグリッド (リスト) を編集可能にする | MicrosoftDocs
description: 編集可能グリッドのカスタム コントロールの使用方法について学習します
ms.custom: ''
ms.date: 04/09/2020
ms.reviewer: ''
ms.service: powerapps
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: get-started-article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
ms.assetid: cefbc0c2-769b-4230-ab5a-b28a84630a42
caps.latest.revision: 8
author: Mattp123
ms.author: matp
manager: kvivek
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: 12cc43b30b48c9bcfbb735939ad93ace1a7382c7
ms.sourcegitcommit: 81d6996e870b55797372429d66f9b56a7200d154
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/18/2020
ms.locfileid: "3270505"
---
# <a name="make-model-driven-app-grids-lists-editable-using-the-editable-grid-custom-control"></a>編集可能グリッド カスタム コントロールを使用してモデル駆動型アプリ グリッド (リスト) を編集可能にする

Dynamics CRM の以前のリリースでは、ユーザーはグリッド (リストとも呼ばれます) またはフォームのサブグリッドに直接データを入力することはできませんでした。 フォームを開いたり、データを編集してから保存するためにグリッドでレコードを選択する必要があり、複数の手順が必要でした。 編集可能なグリッドを使用すると、ユーザーは、Web アプリ、タブレット PC、電話を使用している場合でもグリッドやサブグリットから直接インライン編集を実行できます。  
  
 ![編集可能なグリッドの例](media/editable-grid-examples.png "編集可能なグリッドの例")  
  
 編集可能グリッド カスタム コントロールによって編集可能なグリッドが有効になるとき、ユーザーは基本の検索フィールドおよびオプション セットを含む、ほとんどの種類のフィールドを編集できます。  

**編集可能なグリッドは次をサポートします:**
  
-   エンティティまたはサブグリッド レベル (ユーザー定義エンティティを含みます) でのレコードのインライン編集  
  
-   システム ビューおよび個人用ビュー  
  
-   Web およびモバイル クライアント  
  
-   キーボードまたはマウスによるナビゲーション  
  
-   グループ化および並べ替え (クライアント側のレコードを現在のビューの任意のカラムでグループ化/ソートすることができます)。  
  
-   フィルタリング  
  
-   列の移動およびサイズの変更  
  
-   改ページ  
  
-   グループ化、並べ替え、フィルタリング、改ページのために 1 つのセッションから別のセッションへの変更、および列の移動およびサイズの調整の保存  
  
-   検索の構成  
  
-   計算フィールドおよびロールアップ フィールド  
  
-   業務ルール (エラー メッセージの表示、フィールド値の設定、必須項目の設定、既定値の設定、フィールドのロックまたはロック解除)  
  
-   JavaScript イベント  
  
-   セキュリティ ロールに基づくセルの有効化または無効化  
  
-   ユーザーは引き続き検索およびグラフを使用でき、読み取り専用グリッドと同様に [操作] バーにアクセスできます。  
  
## <a name="make-main-grids-editable"></a>メイン グリッドを編集可能にする  
  
1.  [ソリューション エクスプローラー](advanced-navigation.md#solution-explorer)を開きます。  
  
2.  **エンティティ**リストで、適切なエンティティをオープンし、**コントロール**タブを選択し、**コントロールの追加**を選択します。  
  
     ![編集可能グリッド カスタム コントロールの追加](media/add-editable-grids-custom-control.png "編集可能グリッド カスタム コントロールの追加")  
  
3.  **コントロールの追加**ダイアログ ボックスで、**編集可能グリッド**を選択してから、**追加**を選択します。  
  
4.  追加された **編集可能なグリッド** 行で、グリッドを適用するフォーム ファクターを選択します。 これにより、編集可能なグリッド コントロールが、選択されたフォーム ファクターの既定のコントロールになります。  
  
     ![フォーム ファクター選択のある編集可能なグリッドの行](media/editable-grid-row-wit-factor-selection.png "フォーム ファクター選択のある編集可能なグリッドの行")    

   > [!NOTE]
   >  実行時に、ユーザーは、編集可能なグリッドと読み取り専用グリッドを切り替えることができます。  
      
5.  検索を追加するには、**編集可能なグリッド** のオプション グループで、**検索の追加** を選択してから、**"検索の追加" プロパティの構成** ダイアログ ボックスで次のように入力します：  
  
    1.  **使用可能なビュー**リストで、検索を追加するビューを選択します (例、**アクティブな取引先企業**)。  
  
    2.  **使用可能な列**リストで、追加する検索列を選択します (例、**取引先責任者**を選択します)。  
  
    3.  **既定のビュー**リストで、検索フィールドのデータ ソースを選択します。  
  
    4.  表示されるレコードを制限する場合は、**次の条件を満たすレコードのみ表示する**チェック ボックスをオンにし、リストから条件を選択してから、**OK** を選択します。  
  
         ![編集可能なグリッド コントロールで検索を追加する](media/add-lookup-in-editable-grid-control.png "編集可能なグリッド コントロールで検索を追加する")  
     
6.  ネストされたグリッドがある場合は、**ネストされたグリッド ビュー**のペンシルボタンを選択してから、エンティティおよびネストされたグリッドビューを選択します。 **ネストされたグリッドの上位 ID** の場合、エンティティの関連付けを選択します。 たとえば、[ParentAccountID] フィールドは、**取引先企業**および**取引先担当者**に対応します。  
  
    > [!NOTE]
    >  ネストされたグリッドは、電話およびタブレット PC でのみ使用でき、Web では使用できません。  
  
7.  ユーザーがビュー内のすべての列でデータをグループ化できないようにする (たとえば、領域を節約する) には、**列によるグループ化**行で、鉛筆ボタンを選択してから、**"列ごとにグループ化" プロパティを設定する**ダイアログ ボックスで、**無効**を選択し、**OK** を選択します。  
  
    > [!TIP]
    >  これは主にフォームのサブグリッドで役立ちます。  
  
8.  JavaScript イベントを追加する場合は、**イベント** タブを選択してから、適切なエンティティ、フィールド、イベントを選択します。 詳細: [開発者ドキュメント: 編集可能グリッドの使用](/dynamics365/customer-engagement/developer/customize-dev/use-editable-grids-dynamics-365.md)  
  
     ![編集可能なグリッド コントロールでイベントを追加する](media/add-events-in-editable-grid-control.png "編集可能なグリッド コントロールでイベントを追加する")  
  
9. 作業を保存するには、操作バーで**保存**を選択します。  
  
10. チームに変更を加える準備ができたら、アクション バーで **公開** を選択します。  
  
11. 変更をテストするには、ステップ 5 で指定したビューに移動し、それから一部のインライン編集を変更します。  
  
## <a name="make-a-sub-grid-on-a-form-editable"></a>フォームのサブグリッドを編集可能にする

> [!NOTE] 
> - サブグリッド内で編集可能グリッドの変更を保存するには、ユーザーはフォームから移動する前に明示的に保存する必要があります。
> - 従来のフォーム (Dynamics CRM 2016 より前のバージョン) を使用している場合、サブグリッドで編集可能なグリッドを有効にした場合、編集可能なサブグリッドが表示されません。 システム管理者は、必要に応じてシステム設定で従来のフォームをオフにできます。
  
1.  [ソリューション エクスプローラー](advanced-navigation.md#solution-explorer)を開きます。  
  
2.  サブグリッドを含むフォームを開きます。  
  
3.  適切なコントロールを選択してから、リボンで**プロパティの変更**を選択します。  
  
4.  **プロパティの設定**ダイアログ ボックスで、**コントロール**を選択し、**コントロールの追加**を選択してから、上記の同じステップの一覧に従います。  
  
## <a name="supported-standard-entities"></a>サポートされている標準エンティティ  
  
||||  
|-|-|-|  
|**Web/タブレット PC/電話**|**タブレット PC/電話のみ**|**Web のみ**|  
|取引先企業<br /><br /> 予定<br /><br /> 予約可能リソースです<br /><br /> 予約可能リソースの予約<br /><br /> 予約可能リソースの予約ヘッダー<br /><br /> 予約可能リソース カテゴリ<br /><br /> 予約可能リソース カテゴリ関連<br /><br /> 予約可能リソースの特性<br /><br /> 予約可能リソース グループ<br /><br /> 予約状態です<br /><br /> サポート案件<br /><br /> カテゴリ<br /><br /> 特性<br /><br /> [競合企業]<br /><br /> 取引先担当者<br /><br /> 電子メール<br /><br /> 権利<br /><br /> フィードバック<br /><br /> 請求書<br /><br /> サポート情報記事<br /><br /> サポート情報記事の表示数<br /><br /> サポート情報レコード<br /><br /> 潜在顧客<br /><br /> 営業案件<br /><br /> 受注<br /><br /> 電話<br /><br /> [価格表]<br /><br /> 製品<br /><br /> キュー<br /><br /> 見積もり<br /><br /> 評価モデル<br /><br /> 評価の値<br /><br /> SLA KPI インスタンス<br /><br /> ソーシャル活動<br /><br /> ソーシャル プロファイル<br /><br /> 同期エラー<br /><br /> タスク<br /><br /> チーム<br /><br /> ユーザー|活動<br /><br /> 添付ファイル<br /><br /> チャネル アクセス プロファイル ルール アイテム<br /><br /> 競合企業の住所<br /><br /> つながり<br /><br /> つながりロール<br /><br /> 電子メールの署名<br /><br /> 電子メール テンプレート<br /><br /> 期限切れのプロセス<br /><br /> 請求書の製品<br /><br /> サポート情報記事インシデント<br /><br /> 潜在顧客から営業案件への営業<br /><br /> プロセス<br /><br /> メールボックス<br /><br /> 新しいプロセス<br /><br /> メモ<br /><br /> 提案製品<br /><br /> 営業案件の営業プロセス<br /><br /> 受注製品<br /><br /> 組織<br /><br /> サポート案件への電話のプロセス<br /><br /> 価格表品目<br /><br /> キュー アイテム<br /><br /> 見積もり製品<br /><br /> SharePoint ドキュメント<br /><br /> 翻訳プロセス|キャンペーン<br /><br /> キャンペーン活動<br /><br /> キャンペーンの反応<br /><br /> チャネル アクセス プロファイル<br /><br /> チャネル アクセス プロファイル ルール<br /><br /> 契約<br /><br /> 権利テンプレート<br /><br /> 外部パーティ<br /><br /> FAX<br /><br /> レター<br /><br /> マーケティング リスト<br /><br /> 位置<br /><br /> 簡易キャンペーン​​<br /><br /> 定期的な予定<br /><br /> [営業資料]<br /><br /> SLA|  
 
##  <a name="data-types-that-arent-editable-in-an-editable-grid"></a>編集可能なグリッドでは編集できないデータ型
次のデータ型は、編集可能なグリッドでは編集できません：顧客と関係者リストの検索フィールド、複合 (アドレス) フィールド、状態/ステータス フィールド、検索エンティティ関連フィールド (例:取引先企業エンティティには、取引先担当者の検索が含まれます。取引先担当者フィールドは編集できますが、電子メール アドレス (取引先担当者) は編集できません)。 

## <a name="group-by-views-work-on-client-side-only"></a>ビューによるグループ化はクライアント側でのみ機能します
グループ化動作はクライアント側でのみ機能し、ページ間を横断することはありません。 グループ化はクライアントのみの機能であり、単数ページのデータでのみ機能します。 グループ化では、サーバー上の完全なデータセットに基づいて、すべてのオプションが表示されるわけではありません。 グループ化は、現在のページでのみグループ化を示します。 カスタム コントロール構成のプロパティを使用して、グループ化を無効にすることができます。 詳しくは、[メイン グリッドを編集可能にする](#make-main-grids-editable) を参照してください

## <a name="business-rules-work-only-if-conditional-field-is-a-column-on-the-grid"></a>ビジネス ルールは、条件フィールドがグリッド上の列である場合にのみ動作します
編集可能なグリッドのビジネス ルールは、条件フィールドがグリッドの列でもある場合にのみサポートされます。 フィールドが列でない場合、ビジネス ルールは動作しません。 また、ビジネス ルールで参照される各フィールドがフォーム上にも含まれていることを確認します。 編集可能なグリッドがダッシュボードで構成されている場合、編集可能なグリッドのビジネス ルールは起動しないことに注意してください。

## <a name="next-steps"></a>次のステップ  
 [編集可能グリッドでショートカット キーを使用する](https://docs.microsoft.com/dynamics365/customer-engagement/basics/keyboard-shortcuts#editable-grids-views)

